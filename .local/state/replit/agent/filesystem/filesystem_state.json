{"file_contents":{"main.py":{"content":"def main():\n    print(\"Hello from repl-nix-workspace!\")\n\n\nif __name__ == \"__main__\":\n    main()\n","size_bytes":96},"app.py":{"content":"import streamlit as st\nimport pandas as pd\nimport sqlite3\nimport plotly.express as px\nimport plotly.graph_objects as go\nfrom transformers import AutoTokenizer, AutoModelForSeq2SeqLM\nimport torch\nimport os\nimport tempfile\nfrom typing import Dict, List, Tuple, Optional\nimport database\n\nst.set_page_config(\n    page_title=\"AskDB - Natural Language to SQL\",\n    page_icon=\"üóÑÔ∏è\",\n    layout=\"wide\",\n    initial_sidebar_state=\"expanded\"\n)\n\n@st.cache_resource\ndef load_nl2sql_model(model_name: str = \"mrm8488/t5-base-finetuned-wikiSQL\"):\n    hf_token = os.environ.get('HUGGING_FACE_TOKEN', None)\n    tokenizer = AutoTokenizer.from_pretrained(model_name, token=hf_token)\n    model = AutoModelForSeq2SeqLM.from_pretrained(model_name, token=hf_token)\n    return tokenizer, model\n\n@st.cache_resource\ndef load_summarization_model(model_name: str = \"t5-small\"):\n    hf_token = os.environ.get('HUGGING_FACE_TOKEN', None)\n    tokenizer = AutoTokenizer.from_pretrained(model_name, token=hf_token)\n    model = AutoModelForSeq2SeqLM.from_pretrained(model_name, token=hf_token)\n    return tokenizer, model\n\ndef extract_schema(db_path: str) -> Dict[str, List[str]]:\n    \"\"\"Extract schema with column names\"\"\"\n    conn = sqlite3.connect(db_path)\n    cursor = conn.cursor()\n    \n    cursor.execute(\"SELECT name FROM sqlite_master WHERE type='table';\")\n    tables = cursor.fetchall()\n    \n    schema = {}\n    for table in tables:\n        table_name = table[0]\n        try:\n            # Properly quote table names to handle spaces and reserved words\n            quoted_table = quote_identifier(table_name)\n            cursor.execute(f\"PRAGMA table_info({quoted_table})\")\n            columns = cursor.fetchall()\n            schema[table_name] = [col[1] for col in columns]\n        except Exception as e:\n            # Log error but continue with other tables\n            print(f\"Warning: Could not extract schema for table '{table_name}': {str(e)}\")\n            schema[table_name] = []\n    \n    conn.close()\n    return schema\n\ndef detect_foreign_keys(db_path: str) -> Dict[str, List[Dict]]:\n    \"\"\"Detect foreign key relationships between tables using PRAGMA and heuristics\"\"\"\n    conn = sqlite3.connect(db_path)\n    cursor = conn.cursor()\n    \n    cursor.execute(\"SELECT name FROM sqlite_master WHERE type='table';\")\n    tables = [t[0] for t in cursor.fetchall()]\n    \n    relationships = {}  # {table_name: [{from_col, to_table, to_col}]}\n    \n    for table_name in tables:\n        quoted_table = quote_identifier(table_name)\n        relationships[table_name] = []\n        \n        try:\n            # Use PRAGMA foreign_key_list to get explicit foreign keys\n            cursor.execute(f\"PRAGMA foreign_key_list({quoted_table})\")\n            fks = cursor.fetchall()\n            \n            for fk in fks:\n                relationships[table_name].append({\n                    'from_column': fk[3],  # 'from' column\n                    'to_table': fk[2],     # 'table' column\n                    'to_column': fk[4]     # 'to' column\n                })\n        except:\n            pass\n        \n        # Heuristic matching: column names like \"customer_id\" ‚Üí \"customers\" table\n        try:\n            cursor.execute(f\"PRAGMA table_info({quoted_table})\")\n            columns = cursor.fetchall()\n            \n            for col in columns:\n                col_name = col[1].lower()\n                \n                # Check for common foreign key patterns\n                if col_name.endswith('_id'):\n                    potential_table = col_name[:-3]  # Remove \"_id\"\n                    \n                    # Try to find matching table (exact or plural)\n                    for other_table in tables:\n                        other_lower = other_table.lower()\n                        if other_lower == potential_table or \\\n                           other_lower == potential_table + 's' or \\\n                           other_lower + 's' == potential_table:\n                            # Check if this relationship already exists\n                            exists = any(r['from_column'].lower() == col_name and \n                                       r['to_table'].lower() == other_table.lower() \n                                       for r in relationships[table_name])\n                            if not exists:\n                                relationships[table_name].append({\n                                    'from_column': col[1],\n                                    'to_table': other_table,\n                                    'to_column': 'id',  # Assume 'id' as default\n                                    'heuristic': True\n                                })\n        except:\n            pass\n    \n    conn.close()\n    return relationships\n\ndef extract_enhanced_schema(db_path: str) -> Dict[str, Dict]:\n    \"\"\"Extract rich schema with column types and sample values for AI\"\"\"\n    conn = sqlite3.connect(db_path)\n    cursor = conn.cursor()\n    \n    cursor.execute(\"SELECT name FROM sqlite_master WHERE type='table';\")\n    tables = cursor.fetchall()\n    \n    enhanced_schema = {}\n    for table in tables:\n        table_name = table[0]\n        try:\n            quoted_table = quote_identifier(table_name)\n            \n            # Get column info with types\n            cursor.execute(f\"PRAGMA table_info({quoted_table})\")\n            columns_info = cursor.fetchall()\n            \n            columns = {}\n            for col in columns_info:\n                col_name = col[1]\n                col_type = col[2]\n                quoted_col = quote_identifier(col_name)\n                \n                # Get sample values (all distinct values, limited to 50 for performance)\n                try:\n                    cursor.execute(f\"SELECT DISTINCT {quoted_col} FROM {quoted_table} LIMIT 50\")\n                    samples = [str(row[0]) for row in cursor.fetchall() if row[0] is not None]\n                except:\n                    samples = []\n                \n                columns[col_name] = {\n                    'type': col_type if col_type else 'text',\n                    'samples': samples\n                }\n            \n            enhanced_schema[table_name] = {\n                'columns': columns\n            }\n        except Exception as e:\n            print(f\"Warning: Could not extract enhanced schema for '{table_name}': {str(e)}\")\n            enhanced_schema[table_name] = {'columns': {}}\n    \n    conn.close()\n    return enhanced_schema\n\ndef quote_identifier(name: str) -> str:\n    \"\"\"Properly quote SQL identifiers to handle spaces and reserved words\"\"\"\n    return f'\"{name.replace(chr(34), chr(34)+chr(34))}\"'\n\ndef format_schema_for_model(schema: Dict[str, List[str]]) -> str:\n    schema_lines = []\n    for table_name, columns in schema.items():\n        column_list = ', '.join(columns)\n        schema_lines.append(f\"Table {table_name} has columns: {column_list}\")\n    schema_str = '\\n'.join(schema_lines)\n    return schema_str\n\ndef get_join_template_sql(question: str, related_tables: List[str], all_columns: Dict, foreign_keys: Dict, db_path: str = None) -> Optional[str]:\n    \"\"\"Generate JOIN SQL based on FK relationships (Stage 2: FK-driven JOIN templates)\"\"\"\n    if len(related_tables) < 2:\n        return None\n    \n    q_lower = question.lower()\n    primary_table = related_tables[0]\n    \n    # Find FK relationship between tables\n    join_clauses = []\n    tables_in_join = [primary_table]\n    \n    for i in range(len(related_tables) - 1):\n        current_table = related_tables[i]\n        next_table = related_tables[i + 1]\n        \n        # Look for FK from current_table to next_table\n        join_found = False\n        if current_table in foreign_keys:\n            for fk in foreign_keys[current_table]:\n                if fk['to_table'] == next_table:\n                    from_col = quote_identifier(fk['from_column'])\n                    to_col = quote_identifier(fk.get('to_column', 'id'))\n                    join_clauses.append(\n                        f\"JOIN {quote_identifier(next_table)} ON {quote_identifier(current_table)}.{from_col} = {quote_identifier(next_table)}.{to_col}\"\n                    )\n                    tables_in_join.append(next_table)\n                    join_found = True\n                    break\n        \n        # Try reverse: FK from next_table to current_table\n        if not join_found and next_table in foreign_keys:\n            for fk in foreign_keys[next_table]:\n                if fk['to_table'] == current_table:\n                    from_col = quote_identifier(fk['from_column'])\n                    to_col = quote_identifier(fk.get('to_column', 'id'))\n                    join_clauses.append(\n                        f\"JOIN {quote_identifier(next_table)} ON {quote_identifier(next_table)}.{from_col} = {quote_identifier(current_table)}.{to_col}\"\n                    )\n                    tables_in_join.append(next_table)\n                    join_found = True\n                    break\n        \n        if not join_found:\n            print(f\"[JOIN TEMPLATE] No FK relationship found between {current_table} and {next_table}\")\n            return None\n    \n    # Build SELECT clause - prefer * for simplicity, but can be enhanced\n    select_clause = \"*\"\n    \n    # Check for aggregation keywords\n    if any(kw in q_lower for kw in ['count', 'how many', 'number of', 'total number']):\n        # COUNT query with JOIN\n        group_by_col = None\n        # Look for columns from related tables\n        for table in tables_in_join:\n            table_cols = all_columns.get(table, [])\n            for col in table_cols:\n                if col.lower() in q_lower:\n                    group_by_col = f\"{quote_identifier(table)}.{quote_identifier(col)}\"\n                    break\n            if group_by_col:\n                break\n        \n        if group_by_col:\n            select_clause = f\"{group_by_col}, COUNT(*) as count\"\n            join_sql = f\"SELECT {select_clause} FROM {quote_identifier(primary_table)} {' '.join(join_clauses)} GROUP BY {group_by_col}\"\n            return join_sql\n        else:\n            # Simple count with JOIN\n            join_sql = f\"SELECT COUNT(*) as total FROM {quote_identifier(primary_table)} {' '.join(join_clauses)}\"\n            return join_sql\n    \n    # Default: SELECT * with JOIN\n    join_sql = f\"SELECT * FROM {quote_identifier(primary_table)} {' '.join(join_clauses)}\"\n    \n    # Add WHERE clause if filtering mentioned\n    if any(kw in q_lower for kw in ['where', 'greater than', 'less than', 'above', 'below', '>']):\n        # Let AI handle complex filtering\n        return None\n    \n    print(f\"[JOIN TEMPLATE] Generated: {join_sql}\")\n    return join_sql\n\n\ndef get_template_sql(question: str, table_name: str, columns: List[str], db_path: str = None) -> Optional[str]:\n    \"\"\"Generate SQL from templates for common query patterns with value-aware matching\"\"\"\n    q_lower = question.lower()\n    import re\n    \n    quoted_table = quote_identifier(table_name)\n    \n    # Build value‚Üícolumn mapping from enhanced schema\n    # Structure: {lowercase_value: (column_name, original_value)}\n    value_to_column = {}\n    if db_path:\n        try:\n            enhanced_schema = extract_enhanced_schema(db_path)\n            if table_name in enhanced_schema:\n                for col_name, col_info in enhanced_schema[table_name].get('columns', {}).items():\n                    samples = col_info.get('samples', [])\n                    for sample in samples:\n                        # Map lowercase to both column and original value\n                        value_to_column[sample.lower()] = (col_name, sample)\n        except:\n            pass  # If enhanced schema fails, continue without it\n    \n    # PRIORITY 1: AGGREGATE FUNCTIONS (must come first!)\n    # AVERAGE queries\n    if 'average' in q_lower or 'avg' in q_lower:\n        # Check for \"average X by Y\" pattern (with GROUP BY)\n        if ' by ' in q_lower:\n            # Find what to average and what to group by\n            avg_col = None\n            group_col = None\n            \n            # Common aggregation columns (expanded for diverse databases)\n            agg_keywords = ['score', 'price', 'amount', 'value', 'salary', 'revenue', 'sales', \n                           'cost', 'total', 'quantity', 'qty', 'count', 'number', 'rate',\n                           'balance', 'payment', 'profit', 'discount', 'tax', 'fee', 'charge']\n            \n            # First, try to find numeric columns mentioned in question\n            for col in columns:\n                if col.lower() in q_lower:\n                    # Check if it's likely a numeric column\n                    col_lower = col.lower()\n                    if any(kw in col_lower for kw in agg_keywords):\n                        avg_col = col\n                        break\n            \n            # Fallback: search by keyword\n            if not avg_col:\n                for keyword in agg_keywords:\n                    if keyword in q_lower:\n                        for col in columns:\n                            if keyword in col.lower():\n                                avg_col = col\n                                break\n                        if avg_col:\n                            break\n            \n            # Find group by column (after \"by\")\n            by_index = q_lower.find(' by ')\n            if by_index != -1:\n                after_by = q_lower[by_index + 4:].strip()\n                for col in columns:\n                    if col.lower() in after_by:\n                        group_col = col\n                        break\n            \n            if avg_col and group_col:\n                quoted_avg = quote_identifier(avg_col)\n                quoted_group = quote_identifier(group_col)\n                return f\"SELECT {quoted_group}, AVG({quoted_avg}) as average_{avg_col} FROM {quoted_table} GROUP BY {quoted_group}\"\n        \n        # Simple average (no GROUP BY)\n        for col in columns:\n            if col in q_lower:\n                quoted_col = quote_identifier(col)\n                return f\"SELECT AVG({quoted_col}) as average_{col} FROM {quoted_table}\"\n    \n    # COUNT queries (count, how many, number of)\n    count_keywords = ['count', 'how many', 'number of', 'total number']\n    if any(keyword in q_lower for keyword in count_keywords) and \\\n       not any(word in q_lower for word in ['where', 'above', 'below', 'average', 'sum', 'total revenue', 'total price']):\n        if 'by' in q_lower or 'group' in q_lower:\n            for col in columns:\n                if col in q_lower:\n                    quoted_col = quote_identifier(col)\n                    return f\"SELECT {quoted_col}, COUNT(*) as count FROM {quoted_table} GROUP BY {quoted_col}\"\n        return f\"SELECT COUNT(*) as total FROM {quoted_table}\"\n    \n    # SUM queries (total, revenue, sum)\n    sum_keywords = ['total', 'revenue', 'sum', 'combined']\n    if any(keyword in q_lower for keyword in sum_keywords) and \\\n       not any(word in q_lower for word in ['where', 'above', 'below', 'count', 'average']):\n        # Find which numeric column to sum\n        sum_col = None\n        \n        # Look for explicit column mentions\n        for col in columns:\n            col_lower = col.lower()\n            # Check if column name appears in question or is a likely numeric field\n            if col_lower in q_lower or \\\n               any(keyword in col_lower for keyword in ['amount', 'total', 'price', 'cost', 'revenue', 'value', 'quantity', 'sales']):\n                # Verify it's a numeric column from enhanced schema if available\n                if db_path:\n                    try:\n                        enhanced_schema = extract_enhanced_schema(db_path)\n                        if table_name in enhanced_schema:\n                            col_info = enhanced_schema[table_name].get('columns', {}).get(col, {})\n                            col_type = col_info.get('type', '').lower()\n                            if col_type in ['integer', 'real', 'numeric', 'decimal', 'float']:\n                                sum_col = col\n                                break\n                    except:\n                        pass\n                # Fallback: assume columns with numeric names are numeric\n                if any(keyword in col_lower for keyword in ['amount', 'total', 'price', 'cost', 'revenue', 'value', 'sales']):\n                    sum_col = col\n                    break\n        \n        # If found a column to sum, generate SQL\n        if sum_col:\n            quoted_col = quote_identifier(sum_col)\n            return f\"SELECT SUM({quoted_col}) as total_{sum_col} FROM {quoted_table}\"\n    \n    # PRIORITY 2: FILTER queries with WHERE conditions\n    for col in columns:\n        if col in q_lower:\n            quoted_col = quote_identifier(col)\n            # Greater than queries\n            if any(word in q_lower for word in ['greater than', 'more than', 'above', '>']):\n                number_match = re.search(r'(\\d+(?:\\.\\d+)?)', q_lower)\n                if number_match:\n                    value = number_match.group(1)\n                    return f\"SELECT * FROM {quoted_table} WHERE {quoted_col} > {value}\"\n            \n            # Less than queries\n            if any(word in q_lower for word in ['less than', 'below', 'under', '<']):\n                number_match = re.search(r'(\\d+(?:\\.\\d+)?)', q_lower)\n                if number_match:\n                    value = number_match.group(1)\n                    return f\"SELECT * FROM {quoted_table} WHERE {quoted_col} < {value}\"\n            \n            # Equals queries (explicit)\n            if any(word in q_lower for word in ['equals', 'equal to', '=']):\n                # Try number first\n                number_match = re.search(r'(\\d+(?:\\.\\d+)?)', q_lower)\n                if number_match:\n                    value = number_match.group(1)\n                    return f\"SELECT * FROM {quoted_table} WHERE {quoted_col} = {value}\"\n                # Otherwise look for quoted text\n                text_match = re.search(r\"['\\\"]([^'\\\"]+)['\\\"]\", q_lower)\n                if text_match:\n                    value = text_match.group(1)\n                    return f\"SELECT * FROM {quoted_table} WHERE {quoted_col} = '{value}'\"\n    \n    # PRIORITY 3: Value-aware text filter patterns\n    # Pattern: \"show all Science students\" (Science is the filter value)\n    if any(word in q_lower for word in ['show', 'list', 'display']) and \\\n       not any(word in q_lower for word in ['average', 'count', 'sum']):  # Skip if aggregate\n        \n        # First try value-aware matching using sample data\n        if value_to_column:\n            words = question.split()\n            for word in words:\n                word_clean = word.lower().strip('.,!?;:')\n                if len(word_clean) <= 2:\n                    continue\n                \n                # Try exact match first\n                if word_clean in value_to_column:\n                    col_name, original_value = value_to_column[word_clean]\n                    quoted_col = quote_identifier(col_name)\n                    return f\"SELECT * FROM {quoted_table} WHERE {quoted_col} = '{original_value}'\"\n                \n                # Try partial/substring matching (e.g., \"Maths\" matches \"Mathematics\")\n                for sample_val_lower, (col_name, original_value) in value_to_column.items():\n                    # Check if word is substring of sample OR sample is substring of word\n                    if (word_clean in sample_val_lower or sample_val_lower in word_clean) and \\\n                       word_clean not in ['show', 'list', 'display', 'all', 'the', 'students', 'records']:\n                        quoted_col = quote_identifier(col_name)\n                        # Use the actual sample value (original_value) not the question word\n                        return f\"SELECT * FROM {quoted_table} WHERE {quoted_col} LIKE '%{original_value}%'\"\n        \n        # Fallback to column name matching (if column name appears in question)\n        for col in columns:\n            col_lower = col.lower()\n            if col_lower in q_lower:\n                words = question.split()\n                for i, word in enumerate(words):\n                    if word.lower() in ['show', 'all', 'the', 'list', 'display', 'get', 'find', 'select']:\n                        continue\n                    if word.lower() not in ['students', 'records', 'rows', 'entries', 'data'] and \\\n                       word.lower() != col_lower and \\\n                       len(word) > 2:\n                        word_pos = q_lower.find(word.lower())\n                        col_pos = q_lower.find(col_lower)\n                        if word_pos < col_pos and word_pos != -1:\n                            quoted_col = quote_identifier(col)\n                            return f\"SELECT * FROM {quoted_table} WHERE {quoted_col} LIKE '%{word}%'\"\n    \n    # PRIORITY 4: SHOW ALL queries (only for genuine \"show all\" without potential filter values)\n    # If the question has specific words that could be values, skip SHOW ALL and fall back to AI\n    question_words = [w.lower().strip('.,!?;:') for w in question.split()]\n    potential_filters = [w for w in question_words if len(w) > 3 and w not in [\n        'show', 'all', 'the', 'list', 'display', 'get', 'find', 'select',\n        'students', 'records', 'rows', 'entries', 'data', 'everything',\n        'items', 'values', 'results', 'table', 'from', 'where'\n    ]]\n    \n    # Only use SHOW ALL if there are NO potential filter words (genuine \"show all\" request)\n    if any(word in q_lower for word in ['all', 'everything']) and \\\n       not any(word in q_lower for word in ['where', 'above', 'below', 'greater', 'less', 'average', 'count']) and \\\n       len(potential_filters) == 0:\n        return f\"SELECT * FROM {quoted_table}\"\n    \n    # Return None to fall back to AI for unmatched filter queries\n    return None\n\n# Removed - duplicate function replaced with multi-table aware version below\n\ndef repair_sql(sql: str, table_name: str, columns: List[str], all_columns: Dict = None, is_multi_table: bool = False) -> str:\n    \"\"\"Multi-table aware SQL repair and validation\"\"\"\n    import re\n    \n    quoted_table = quote_identifier(table_name)\n    \n    print(f\"[SQL REPAIR] INPUT SQL: {sql}\")\n    print(f\"[SQL REPAIR] Table: {table_name}, Columns: {columns}, Multi-table: {is_multi_table}\")\n    \n    # Build comprehensive column registry\n    valid_columns_lower = set([c.lower() for c in columns])\n    valid_tables_lower = set([table_name.lower()])\n    \n    if is_multi_table and all_columns:\n        for tbl, cols in all_columns.items():\n            valid_tables_lower.add(tbl.lower())\n            for col in cols:\n                valid_columns_lower.add(col.lower())\n    \n    # Clean artifacts\n    sql = sql.strip()\n    for artifact in ['A:', 'SQL:', '|', 'table:', 'Table:', 'CREATE TABLE', 'col =']:\n        if sql.startswith(artifact):\n            sql = sql[len(artifact):].strip()\n        if artifact in sql and artifact not in ['|', 'A:', 'SQL:']:\n            sql = sql.split(artifact)[0].strip()\n    \n    # Fix table placeholders\n    sql = re.sub(r'\\bFROM\\s+table\\b', f'FROM {quoted_table}', sql, flags=re.IGNORECASE)\n    \n    # Column whitelist check: Multi-table aware validation\n    select_match = re.search(r'SELECT\\s+(.*?)\\s+FROM', sql, re.IGNORECASE | re.DOTALL)\n    if select_match and select_match.group(1).strip() not in ['*', 'COUNT(*)', 'COUNT(*)']:\n        select_clause = select_match.group(1)\n        \n        # Check if it's a JOIN query\n        has_join = bool(re.search(r'\\bJOIN\\b', sql, re.IGNORECASE))\n        \n        # For JOIN queries, skip aggressive validation (preserve structure)\n        if has_join:\n            print(f\"[SQL REPAIR] JOIN detected - preserving multi-table structure\")\n            print(f\"[SQL REPAIR] Final SQL: {sql}\")\n            return sql\n        \n        # Single-table validation\n        contains_invalid = False\n        for word in re.findall(r'\\b\\w+\\b', select_clause):\n            if word.upper() not in ['SELECT', 'FROM', 'WHERE', 'COUNT', 'AVG', 'SUM', 'MAX', 'MIN', 'AS', 'DISTINCT', 'BY', 'GROUP']:\n                # Check if it's a known column or table (case-insensitive)\n                if word.lower() not in valid_columns_lower and word.lower() not in valid_tables_lower:\n                    contains_invalid = True\n                    print(f\"[SQL REPAIR] Unknown column: {word}\")\n                    break\n        \n        # If SQL contains invalid columns, fall back to SELECT *\n        if contains_invalid:\n            # Keep WHERE clause if present\n            where_match = re.search(r'WHERE\\s+(.+?)(?:ORDER|GROUP|LIMIT|$)', sql, re.IGNORECASE | re.DOTALL)\n            if where_match:\n                sql = f\"SELECT * FROM {quoted_table} WHERE {where_match.group(1).strip()}\"\n            else:\n                sql = f\"SELECT * FROM {quoted_table}\"\n    \n    # Ensure it's a SELECT query\n    if not sql.upper().startswith('SELECT') and not sql.upper().startswith('WITH'):\n        sql = f\"SELECT * FROM {quoted_table}\"\n    \n    return sql\n\ndef generate_sql(question: str, schema_str: str, tokenizer, model, db_path: str = None) -> str:\n    \"\"\"AI-first dynamic SQL generation with templates as fast-path\"\"\"\n    schema_lines = schema_str.split('\\n')\n    table_names = []\n    all_columns = {}\n    \n    for line in schema_lines:\n        if 'Table' in line and 'has columns:' in line:\n            parts = line.split('has columns:')\n            table_name = parts[0].replace('Table', '').strip()\n            columns_str = parts[1].strip()\n            columns = [c.strip() for c in columns_str.split(',')]\n            table_names.append(table_name)\n            all_columns[table_name] = columns\n    \n    if not table_names:\n        return \"SELECT 1\"\n    \n    # Detect which tables are mentioned in the question\n    # Use smart matching: check full name, base name (without \"sample_\" prefix), singular/plural\n    q_lower = question.lower()\n    mentioned_tables = []\n    \n    for t in table_names:\n        t_lower = t.lower()\n        # Check full table name\n        if t_lower in q_lower:\n            mentioned_tables.append(t)\n            continue\n        \n        # Check base name (remove common prefixes like \"sample_\", \"tbl_\", etc.)\n        base_name = t_lower\n        for prefix in ['sample_', 'tbl_', 'tb_']:\n            if base_name.startswith(prefix):\n                base_name = base_name[len(prefix):]\n                break\n        \n        # Check if base name is in question\n        if base_name in q_lower:\n            mentioned_tables.append(t)\n            continue\n        \n        # Check singular/plural variations\n        if base_name.endswith('s'):\n            singular = base_name[:-1]\n            if singular in q_lower:\n                mentioned_tables.append(t)\n        else:\n            plural = base_name + 's'\n            if plural in q_lower:\n                mentioned_tables.append(t)\n    \n    # Enhanced multi-table detection with FK-driven logic\n    # Get foreign keys for analysis\n    foreign_keys = {}\n    if db_path:\n        try:\n            foreign_keys = detect_foreign_keys(db_path)\n        except:\n            pass\n    \n    # Stage 1: FK-aware multi-table detection\n    is_multi_table_query = False\n    related_tables = []\n    \n    # Check 1: Multiple tables explicitly mentioned\n    if len(mentioned_tables) > 1:\n        is_multi_table_query = True\n        related_tables = mentioned_tables[:3]  # Limit to 3 tables max\n        print(f\"[MULTI-TABLE] Multiple tables mentioned: {related_tables}\")\n    \n    # Check 2: FK relationships detected in question\n    elif len(mentioned_tables) == 1 and foreign_keys:\n        primary_table = mentioned_tables[0]\n        if primary_table in foreign_keys:\n            # Look for related table mentions via FK\n            for fk in foreign_keys[primary_table]:\n                related_table = fk['to_table']\n                if related_table in table_names:\n                    # Check if related table or its columns mentioned\n                    related_cols = all_columns.get(related_table, [])\n                    if any(col.lower() in q_lower for col in related_cols):\n                        is_multi_table_query = True\n                        related_tables = [primary_table, related_table]\n                        print(f\"[MULTI-TABLE] FK relationship detected: {primary_table} ‚Üí {related_table}\")\n                        break\n    \n    # Check 3: User intent keywords (with FK confirmation)\n    if not is_multi_table_query and len(mentioned_tables) == 1:\n        intent_keywords = ['with', 'including', 'from both', 'together', 'combined']\n        if any(keyword in q_lower for keyword in intent_keywords) and foreign_keys:\n            # Only flag as multi-table if FKs exist\n            primary_table = mentioned_tables[0] if mentioned_tables else table_names[0]\n            if primary_table in foreign_keys and foreign_keys[primary_table]:\n                is_multi_table_query = True\n                related_tables = [primary_table, foreign_keys[primary_table][0]['to_table']]\n                print(f\"[MULTI-TABLE] Intent keywords with FK: {related_tables}\")\n    \n    # Use primary table\n    if mentioned_tables:\n        table_name = mentioned_tables[0]\n        print(f\"[TABLE DETECTION] Primary table '{table_name}' in question: '{question}'\")\n    else:\n        table_name = table_names[0]\n        print(f\"[TABLE DETECTION] No table match, using first table '{table_name}' for question: '{question}'\")\n    \n    columns = all_columns.get(table_name, [])\n    quoted_table = quote_identifier(table_name)\n    \n    # Fast-path: Try templates\n    if is_multi_table_query and related_tables:\n        # Try JOIN template for multi-table queries\n        join_template_sql = get_join_template_sql(question, related_tables, all_columns, foreign_keys, db_path)\n        if join_template_sql:\n            print(f\"[JOIN TEMPLATE FAST-PATH] {question}\")\n            return join_template_sql\n    elif not is_multi_table_query:\n        # Single-table templates\n        template_sql = get_template_sql(question, table_name, columns, db_path)\n        if template_sql:\n            print(f\"[TEMPLATE FAST-PATH] {question}\")\n            return template_sql\n    \n    # AI-first approach with enhanced prompting (handles both single and multi-table)\n    if is_multi_table_query:\n        print(f\"[AI-FIRST MULTI-TABLE] {question}\")\n    else:\n        print(f\"[AI-FIRST DYNAMIC] {question}\")\n    \n    # Get enhanced schema with sample values and foreign keys if available\n    enhanced_schema = {}\n    foreign_keys = {}\n    if db_path:\n        try:\n            enhanced_schema = extract_enhanced_schema(db_path)\n            foreign_keys = detect_foreign_keys(db_path)\n        except:\n            pass\n    \n    # Build rich prompt with few-shot examples\n    if table_name in enhanced_schema and enhanced_schema[table_name].get('columns'):\n        # Build schema with types and samples\n        schema_parts = []\n        for col_name, col_info in enhanced_schema[table_name]['columns'].items():\n            quoted_col = quote_identifier(col_name)\n            col_type = col_info.get('type', 'text')\n            samples = col_info.get('samples', [])\n            sample_str = f\" (e.g. {', '.join(samples[:2])})\" if samples else \"\"\n            schema_parts.append(f\"{quoted_col} {col_type}{sample_str}\")\n        schema_detail = ', '.join(schema_parts)\n    else:\n        # Fallback to simple column list\n        schema_detail = ', '.join([quote_identifier(col) for col in columns])\n    \n    # Build dynamic examples using ACTUAL columns from schema\n    example_column = columns[0] if columns else \"id\"  # Use first actual column\n    example_column_quoted = quote_identifier(example_column)\n    \n    # Find a numeric column for comparison examples\n    numeric_col = None\n    if table_name in enhanced_schema and enhanced_schema[table_name].get('columns'):\n        for col_name, col_info in enhanced_schema[table_name]['columns'].items():\n            if col_info.get('type', '').lower() in ['integer', 'real', 'numeric', 'decimal', 'float']:\n                numeric_col = col_name\n                break\n    if not numeric_col and len(columns) > 1:\n        numeric_col = columns[1]  # Fallback to second column\n    numeric_col_quoted = quote_identifier(numeric_col) if numeric_col else example_column_quoted\n    \n    # Build multi-table schema info with relationships\n    all_tables_schema = \"\"\n    join_examples = \"\"\n    \n    if len(table_names) > 1:\n        all_tables_schema = \"\\n\\nAvailable Tables:\\n\"\n        for tbl in table_names:\n            tbl_cols = all_columns.get(tbl, [])\n            all_tables_schema += f\"- {quote_identifier(tbl)}: {', '.join([quote_identifier(c) for c in tbl_cols])}\\n\"\n        \n        # Add FK relationships with JOIN examples\n        if foreign_keys:\n            all_tables_schema += \"\\nTable Relationships:\\n\"\n            for tbl, fk_list in foreign_keys.items():\n                if fk_list:\n                    for fk in fk_list:\n                        from_col = quote_identifier(fk['from_column'])\n                        to_table = quote_identifier(fk['to_table'])\n                        to_col = quote_identifier(fk.get('to_column', 'id'))\n                        all_tables_schema += f\"- {quote_identifier(tbl)}.{from_col} ‚Üí {to_table}.{to_col}\\n\"\n                        \n                        # Build JOIN example using actual FK\n                        if tbl == table_name or (related_tables and tbl in related_tables):\n                            join_examples += f\"\\nQ: Show {tbl} with {to_table} details\\n\"\n                            join_examples += f\"A: SELECT * FROM {quote_identifier(tbl)} JOIN {to_table} ON {quote_identifier(tbl)}.{from_col} = {to_table}.{to_col}\\n\"\n    \n    # Few-shot prompt with ACTUAL schema-based examples (including JOINs)\n    prompt = f\"\"\"Generate SQLite query using the exact table and column names provided.\n\nIMPORTANT: Use table and column names EXACTLY as listed below. Never use the word \"table\" as a placeholder.\n\nPrimary Table: {quoted_table} has columns: {schema_detail}{all_tables_schema}\n\nExamples with ACTUAL column names:\nQ: Show all records\nA: SELECT * FROM {quoted_table}\n\nQ: Count by {example_column}\nA: SELECT {example_column_quoted}, COUNT(*) FROM {quoted_table} GROUP BY {example_column_quoted}\n\nQ: Total {numeric_col if numeric_col else example_column}\nA: SELECT SUM({numeric_col_quoted}) FROM {quoted_table}\n\nQ: Where {numeric_col if numeric_col else example_column} above 90\nA: SELECT * FROM {quoted_table} WHERE {numeric_col_quoted} > 90{join_examples}\n\nIMPORTANT: Use correct SQL syntax with parentheses for aggregations: SUM(column), AVG(column), COUNT(*).\nDo NOT add WHERE clauses unless the question explicitly requests filtering.\nFor JOIN queries, use the relationships listed above to connect tables properly.\n\nQuestion: {question}\nSQL:\"\"\"\n    \n    inputs = tokenizer(prompt, return_tensors=\"pt\", max_length=512, truncation=True)\n    \n    with torch.no_grad():\n        outputs = model.generate(\n            **inputs,\n            max_length=150,\n            num_beams=5,\n            early_stopping=True,\n            temperature=0.2,\n            do_sample=True,\n            top_p=0.95,\n            repetition_penalty=1.2\n        )\n    \n    sql = tokenizer.decode(outputs[0], skip_special_tokens=True)\n    \n    # Repair and validate the generated SQL\n    sql = repair_sql(sql, table_name, columns, all_columns, is_multi_table_query)\n    \n    print(f\"[GENERATED] {sql}\")\n    return sql\n\ndef sanitize_error_message(error_msg: str) -> str:\n    \"\"\"Remove SQL query content from error messages to keep queries hidden from users.\"\"\"\n    error_str = str(error_msg)\n    \n    if \"near\" in error_str.lower():\n        parts = error_str.split(\"near\")\n        if len(parts) > 1:\n            return f\"Query syntax error near {parts[-1].strip()}\"\n    \n    if \"no such table\" in error_str.lower():\n        return \"Database table not found. Please check your data structure.\"\n    \n    if \"no such column\" in error_str.lower():\n        return \"Column not found in the database. Please rephrase your question.\"\n    \n    if \"ambiguous column\" in error_str.lower():\n        return \"Ambiguous column reference. Please be more specific in your question.\"\n    \n    return \"Unable to process your question. Please try rephrasing or asking something simpler.\"\n\ndef execute_sql(sql: str, db_path: str) -> Tuple[pd.DataFrame, Optional[str]]:\n    sql_clean = sql.strip().upper()\n    \n    dangerous_keywords = ['INSERT', 'UPDATE', 'DELETE', 'DROP', 'CREATE', 'ALTER', \n                          'TRUNCATE', 'REPLACE', 'PRAGMA', 'ATTACH', 'DETACH']\n    \n    for keyword in dangerous_keywords:\n        if keyword in sql_clean:\n            return None, f\"Error: {keyword} statements are not allowed for safety reasons. Only read-only queries (SELECT, WITH) are permitted.\"\n    \n    if not (sql_clean.startswith(\"SELECT\") or sql_clean.startswith(\"WITH\")):\n        return None, \"Error: Only SELECT and WITH (CTE) queries are allowed for safety reasons.\"\n    \n    try:\n        conn = sqlite3.connect(db_path)\n        df = pd.read_sql_query(sql, conn)\n        conn.close()\n        return df, None\n    except Exception as e:\n        sanitized_error = sanitize_error_message(str(e))\n        return None, sanitized_error\n\ndef generate_summary(df: pd.DataFrame, question: str, tokenizer, model) -> str:\n    if df.empty:\n        return \"No results found.\"\n    \n    if len(df) > 10:\n        sample_data = df.head(10)\n        suffix = f\"... and {len(df) - 10} more rows\"\n    else:\n        sample_data = df\n        suffix = \"\"\n    \n    data_text = f\"Question: {question}\\nResults: {len(df)} rows found.\\n\"\n    data_text += sample_data.to_string(index=False)\n    if suffix:\n        data_text += f\"\\n{suffix}\"\n    \n    prompt = f\"Summarize the following query results in natural language:\\n{data_text[:500]}\\n\\nSummary:\"\n    \n    inputs = tokenizer(prompt, return_tensors=\"pt\", max_length=512, truncation=True)\n    \n    with torch.no_grad():\n        outputs = model.generate(\n            **inputs,\n            max_length=100,\n            num_beams=2,\n            early_stopping=True\n        )\n    \n    summary = tokenizer.decode(outputs[0], skip_special_tokens=True)\n    return summary\n\ndef create_visualizations(df: pd.DataFrame):\n    numeric_cols = df.select_dtypes(include=['int64', 'float64']).columns.tolist()\n    \n    if len(numeric_cols) == 0:\n        st.info(\"No numeric columns available for visualization.\")\n        return\n    \n    st.subheader(\"üìä Data Visualizations\")\n    \n    if len(numeric_cols) >= 2:\n        col1, col2 = st.columns(2)\n        \n        with col1:\n            x_axis = st.selectbox(\"Select X-axis\", df.columns.tolist(), key=\"x_axis\")\n            y_axis = st.selectbox(\"Select Y-axis\", numeric_cols, key=\"y_axis\")\n        \n        with col2:\n            chart_type = st.selectbox(\"Chart Type\", [\"Bar\", \"Line\", \"Scatter\"], key=\"chart_type\")\n        \n        if chart_type == \"Bar\":\n            fig = px.bar(df, x=x_axis, y=y_axis, title=f\"{y_axis} by {x_axis}\")\n        elif chart_type == \"Line\":\n            fig = px.line(df, x=x_axis, y=y_axis, title=f\"{y_axis} over {x_axis}\")\n        else:\n            fig = px.scatter(df, x=x_axis, y=y_axis, title=f\"{y_axis} vs {x_axis}\")\n        \n        st.plotly_chart(fig, use_container_width=True)\n    \n    elif len(numeric_cols) == 1:\n        fig = px.histogram(df, x=numeric_cols[0], title=f\"Distribution of {numeric_cols[0]}\")\n        st.plotly_chart(fig, use_container_width=True)\n\ndef show_login_page():\n    st.title(\"üîê Welcome to AskDB\")\n    st.markdown(\"### Sign in to continue\")\n    \n    tab1, tab2 = st.tabs([\"Sign In\", \"Sign Up\"])\n    \n    with tab1:\n        with st.form(\"login_form\"):\n            username = st.text_input(\"Username\")\n            password = st.text_input(\"Password\", type=\"password\")\n            submit = st.form_submit_button(\"Sign In\")\n            \n            if submit:\n                if not username or not password:\n                    st.error(\"Please enter both username and password\")\n                else:\n                    try:\n                        user = database.authenticate_user(username, password)\n                        if user:\n                            st.session_state.user_id = user.id\n                            st.session_state.username = user.username\n                            st.session_state.display_name = user.display_name\n                            st.session_state.current_chat_id = None\n                            st.success(f\"Welcome back, {user.display_name}!\")\n                            st.rerun()\n                        else:\n                            st.error(\"Invalid username or password\")\n                    except Exception as e:\n                        st.error(\"Login failed. Please try again or contact the administrator.\")\n                        print(f\"Login error: {e}\")\n    \n    with tab2:\n        with st.form(\"signup_form\"):\n            new_username = st.text_input(\"Username*\")\n            new_email = st.text_input(\"Email*\")\n            new_display_name = st.text_input(\"Display Name (optional)\")\n            new_password = st.text_input(\"Password*\", type=\"password\")\n            confirm_password = st.text_input(\"Confirm Password*\", type=\"password\")\n            signup_submit = st.form_submit_button(\"Sign Up\")\n            \n            if signup_submit:\n                if not new_username or not new_email or not new_password:\n                    st.error(\"Please fill in all required fields\")\n                elif new_password != confirm_password:\n                    st.error(\"Passwords do not match\")\n                elif len(new_password) < 6:\n                    st.error(\"Password must be at least 6 characters long\")\n                else:\n                    try:\n                        user = database.create_user(\n                            username=new_username,\n                            email=new_email,\n                            password=new_password,\n                            display_name=new_display_name or new_username\n                        )\n                        if user:\n                            st.success(\"‚úÖ Account created successfully! Please sign in.\")\n                        else:\n                            st.error(\"Username or email already exists\")\n                    except Exception as e:\n                        st.error(\"Signup failed. Please try again or contact the administrator.\")\n                        print(f\"Signup error: {e}\")\n\n\ndef main():\n    # Initialize database\n    db_initialized = database.init_db()\n    if not db_initialized:\n        st.error(\"‚ö†Ô∏è Database connection failed. Please contact the administrator.\")\n        st.info(\"The application requires a PostgreSQL database connection to function.\")\n        st.stop()\n        return\n    \n    # Initialize session state for authentication\n    if 'user_id' not in st.session_state:\n        st.session_state.user_id = None\n    if 'username' not in st.session_state:\n        st.session_state.username = None\n    if 'current_chat_id' not in st.session_state:\n        st.session_state.current_chat_id = None\n    \n    # Show login page if not authenticated\n    if not st.session_state.user_id:\n        show_login_page()\n        return\n    \n    # User is authenticated - show main app\n    st.title(\"üóÑÔ∏è AskDB - Natural Language to SQL Query System\")\n    st.markdown(f\"**Welcome, {st.session_state.get('display_name', st.session_state.username)}!** Ask questions about your database in plain English and get SQL-powered answers!\")\n    \n    # Initialize session state\n    if 'db_path' not in st.session_state:\n        st.session_state.db_path = None\n    if 'schema' not in st.session_state:\n        st.session_state.schema = None\n    if 'query_history' not in st.session_state:\n        st.session_state.query_history = []\n    if 'upload_history' not in st.session_state:\n        st.session_state.upload_history = []\n    if 'chat_history' not in st.session_state:\n        st.session_state.chat_history = []\n    \n    with st.sidebar:\n        # Chat Management Section\n        st.header(\"üí¨ Chat Management\")\n        \n        col1, col2 = st.columns(2)\n        with col1:\n            if st.button(\"‚ûï New Chat\", use_container_width=True):\n                # Create new chat\n                chat = database.create_chat(st.session_state.user_id, \"New Conversation\")\n                if chat:\n                    st.session_state.current_chat_id = chat.id\n                    st.session_state.chat_history = []\n                    st.success(\"New chat created!\")\n                    st.rerun()\n        \n        with col2:\n            if st.button(\"üö™ Logout\", use_container_width=True):\n                st.session_state.user_id = None\n                st.session_state.username = None\n                st.session_state.current_chat_id = None\n                st.rerun()\n        \n        # Show existing chats\n        user_chats = database.get_user_chats(st.session_state.user_id)\n        if user_chats:\n            st.subheader(\"Your Chats\")\n            for chat in user_chats[:10]:  # Show last 10 chats\n                chat_title = chat.title if chat.title != \"New Conversation\" else f\"Chat {chat.id}\"\n                is_current = chat.id == st.session_state.current_chat_id\n                button_label = f\"{'‚ñ∂ ' if is_current else ''}{chat_title[:30]}\"\n                \n                if st.button(button_label, key=f\"chat_{chat.id}\", use_container_width=True):\n                    st.session_state.current_chat_id = chat.id\n                    # Load chat messages\n                    messages = database.get_chat_messages(chat.id)\n                    st.session_state.chat_history = []\n                    for msg in messages:\n                        if msg.role == 'user':\n                            # Load user question and assistant response together\n                            pass\n                        else:\n                            st.session_state.chat_history.append({\n                                'timestamp': msg.created_at.strftime(\"%Y-%m-%d %H:%M:%S\"),\n                                'question': messages[messages.index(msg)-1].content if messages.index(msg) > 0 else \"\",\n                                'answer': msg.content,\n                                'rows': msg.rows_returned,\n                                'success': msg.success == 1\n                            })\n                    st.rerun()\n        else:\n            st.info(\"No chats yet. Click 'New Chat' to start!\")\n        \n        st.divider()\n        \n        st.header(\"üìÅ Database Upload\")\n        \n        uploaded_files = st.file_uploader(\n            \"Upload your database files (multiple files supported for related tables)\",\n            type=['csv', 'xls', 'xlsx', 'db', 'sqlite', 'sqlite3'],\n            help=\"Upload CSV, Excel (XLS/XLSX), or SQLite databases. You can upload multiple files to create related tables.\",\n            accept_multiple_files=True\n        )\n        \n        if uploaded_files:\n            import datetime\n            temp_dir = tempfile.gettempdir()\n            db_path = os.path.join(temp_dir, \"uploaded_db.sqlite\")\n            \n            # Remove existing database to start fresh\n            if os.path.exists(db_path):\n                os.remove(db_path)\n            \n            # Create new database\n            conn = sqlite3.connect(db_path)\n            tables_created = []\n            \n            # Process each uploaded file\n            for uploaded_file in uploaded_files:\n                file_ext = uploaded_file.name.split('.')[-1].lower()\n                \n                if file_ext in ['csv', 'xls', 'xlsx']:\n                    # Convert CSV or Excel to SQLite table\n                    if file_ext == 'csv':\n                        df = pd.read_csv(uploaded_file)\n                        file_type = \"CSV\"\n                    elif file_ext in ['xls', 'xlsx']:\n                        df = pd.read_excel(uploaded_file, engine='openpyxl' if file_ext == 'xlsx' else 'xlrd')\n                        file_type = \"Excel\"\n                    \n                    # Clean table name\n                    table_name = uploaded_file.name.rsplit('.', 1)[0]  # Remove extension\n                    table_name = table_name.replace(' ', '_').replace('-', '_').replace('.', '_')\n                    \n                    # Add table to database\n                    df.to_sql(table_name, conn, if_exists='replace', index=False)\n                    tables_created.append({\n                        'name': table_name,\n                        'filename': uploaded_file.name,\n                        'type': file_type,\n                        'rows': len(df),\n                        'columns': list(df.columns)\n                    })\n                \n                elif file_ext in ['db', 'sqlite', 'sqlite3']:\n                    # For SQLite files, copy tables to main database\n                    temp_sqlite_path = os.path.join(temp_dir, uploaded_file.name)\n                    with open(temp_sqlite_path, 'wb') as f:\n                        f.write(uploaded_file.getbuffer())\n                    \n                    # Attach and copy tables\n                    cursor = conn.cursor()\n                    cursor.execute(f\"ATTACH DATABASE '{temp_sqlite_path}' AS source_db\")\n                    \n                    cursor.execute(\"SELECT name FROM source_db.sqlite_master WHERE type='table'\")\n                    source_tables = cursor.fetchall()\n                    \n                    for table in source_tables:\n                        table_name = table[0]\n                        quoted_table = quote_identifier(table_name)\n                        \n                        try:\n                            # Copy table structure and data\n                            cursor.execute(f\"CREATE TABLE IF NOT EXISTS {quoted_table} AS SELECT * FROM source_db.{quoted_table}\")\n                            \n                            cursor.execute(f\"SELECT COUNT(*) FROM {quoted_table}\")\n                            row_count = cursor.fetchone()[0]\n                            \n                            cursor.execute(f\"PRAGMA table_info({quoted_table})\")\n                            cols = cursor.fetchall()\n                            col_names = [col[1] for col in cols]\n                            \n                            tables_created.append({\n                                'name': table_name,\n                                'filename': uploaded_file.name,\n                                'type': 'SQLite',\n                                'rows': row_count,\n                                'columns': col_names\n                            })\n                        except Exception as e:\n                            st.warning(f\"Could not import table '{table_name}': {str(e)}\")\n                    \n                    cursor.execute(\"DETACH DATABASE source_db\")\n                    conn.commit()\n            \n            conn.close()\n            \n            # Update session state\n            st.session_state.db_path = db_path\n            st.session_state.schema = extract_schema(db_path)\n            \n            # Add to upload history\n            for table_info in tables_created:\n                upload_entry = {\n                    'filename': table_info['filename'],\n                    'type': table_info['type'],\n                    'table': table_info['name'],\n                    'rows': table_info['rows'],\n                    'columns': table_info['columns'],\n                    'timestamp': datetime.datetime.now().strftime(\"%Y-%m-%d %H:%M:%S\")\n                }\n                st.session_state.upload_history.append(upload_entry)\n            \n            # Success message\n            if len(tables_created) == 1:\n                st.success(f\"‚úÖ Uploaded 1 table: `{tables_created[0]['name']}`\")\n            else:\n                table_names = ', '.join([f\"`{t['name']}`\" for t in tables_created])\n                st.success(f\"‚úÖ Uploaded {len(tables_created)} tables: {table_names}\")\n        \n        # Upload History\n        if st.session_state.upload_history:\n            st.subheader(\"üìÇ Upload History\")\n            for upload in reversed(st.session_state.upload_history[-5:]):  # Show last 5\n                with st.expander(f\"üìÑ {upload['filename']}\", expanded=False):\n                    st.write(f\"**Type:** {upload['type']}\")\n                    st.write(f\"**Time:** {upload['timestamp']}\")\n                    if 'rows' in upload:\n                        st.write(f\"**Rows:** {upload['rows']}\")\n                    if 'columns' in upload:\n                        st.write(f\"**Columns:** {len(upload['columns'])}\")\n        \n        if st.session_state.schema:\n            st.subheader(\"üìã Database Schema\")\n            for table_name, columns in st.session_state.schema.items():\n                with st.expander(f\"üìä Table: {table_name}\"):\n                    st.code(f\"{table_name}(\\n  \" + \",\\n  \".join(columns) + \"\\n)\")\n    \n    if st.session_state.db_path is None:\n        st.info(\"üëà Please upload a database (CSV or SQLite) from the sidebar to get started.\")\n        \n        st.markdown(\"### ‚ú® Features\")\n        col1, col2, col3 = st.columns(3)\n        \n        with col1:\n            st.markdown(\"**ü§ñ AI-Powered SQL Generation**\")\n            st.write(\"Convert natural language questions to SQL using Hugging Face T5 models\")\n        \n        with col2:\n            st.markdown(\"**üîí Safe Query Execution**\")\n            st.write(\"Only SELECT queries allowed to protect your data\")\n        \n        with col3:\n            st.markdown(\"**üìä Auto Visualizations**\")\n            st.write(\"Automatic chart generation for numeric data\")\n        \n        st.markdown(\"### üìù Example Questions\")\n        st.markdown(\"**üìä For any database (orders, customers, products, etc.):**\")\n        st.code(\"\"\"\n‚Ä¢ Show all records\n‚Ä¢ Get average price by category\n‚Ä¢ Count orders by customer\n‚Ä¢ Show customers where total > 1000\n‚Ä¢ List products with price less than 50\n‚Ä¢ Average revenue by month\n‚Ä¢ Top 10 highest sales\n        \"\"\")\n        return\n    \n    if st.session_state.schema:\n        st.success(f\"üóÑÔ∏è Database loaded with {len(st.session_state.schema)} table(s)\")\n    else:\n        st.error(\"Database uploaded but schema could not be extracted\")\n    \n    tab1, tab2, tab3 = st.tabs([\"üí¨ Ask a Question\", \"üí≠ Chat History\", \"üìú Query History\"])\n    \n    with tab1:\n        st.subheader(\"Ask Your Question\")\n        \n        question = st.text_input(\n            \"Enter your question in natural language:\",\n            placeholder=\"e.g., Show me all records where score is greater than 90\",\n            key=\"nl_question\"\n        )\n        \n        col1, col2 = st.columns([1, 4])\n        with col1:\n            generate_button = st.button(\"üöÄ Generate & Run SQL\", type=\"primary\", use_container_width=True)\n        \n        if generate_button and question:\n            with st.spinner(\"ü§ñ Loading AI model...\"):\n                nl2sql_tokenizer, nl2sql_model = load_nl2sql_model()\n            \n            schema_str = format_schema_for_model(st.session_state.schema)\n            \n            with st.spinner(\"üß† Generating SQL query...\"):\n                # Pass db_path for enhanced schema with sample values\n                sql = generate_sql(question, schema_str, nl2sql_tokenizer, nl2sql_model, st.session_state.db_path)\n            \n            with st.spinner(\"‚öôÔ∏è Executing query...\"):\n                df, error = execute_sql(sql, st.session_state.db_path)\n            \n            if error:\n                st.error(error)\n                st.session_state.query_history.append({\n                    'question': question,\n                    'sql': sql,\n                    'rows': 0,\n                    'success': False,\n                    'error': error\n                })\n                \n                # Add to chat history\n                import datetime\n                \n                # Create chat if none exists\n                if not st.session_state.current_chat_id:\n                    chat = database.create_chat(st.session_state.user_id, question[:100])\n                    if chat:\n                        st.session_state.current_chat_id = chat.id\n                \n                # Save to database\n                if st.session_state.current_chat_id:\n                    database.add_message(st.session_state.current_chat_id, \"user\", question)\n                    database.add_message(\n                        st.session_state.current_chat_id, \n                        \"assistant\", \n                        f\"Error: {error}\",\n                        sql_query=sql,\n                        rows_returned=0,\n                        success=False\n                    )\n                \n                st.session_state.chat_history.append({\n                    'timestamp': datetime.datetime.now().strftime(\"%Y-%m-%d %H:%M:%S\"),\n                    'question': question,\n                    'answer': f\"Error: {error}\",\n                    'rows': 0,\n                    'success': False\n                })\n            elif df is not None:\n                st.success(f\"‚úÖ Query executed successfully! Found {len(df)} rows.\")\n                \n                st.subheader(\"üìã Query Results\")\n                st.dataframe(df, use_container_width=True)\n                \n                if not df.empty:\n                    create_visualizations(df)\n                    \n                    with st.spinner(\"üìù Generating natural language summary...\"):\n                        summary_tokenizer, summary_model = load_summarization_model()\n                        summary = generate_summary(df, question, summary_tokenizer, summary_model)\n                    \n                    st.subheader(\"üí° Summary\")\n                    st.info(summary)\n                \n                st.session_state.query_history.append({\n                    'question': question,\n                    'sql': sql,\n                    'rows': len(df),\n                    'success': True\n                })\n                \n                # Add to chat history\n                import datetime\n                \n                # Create chat if none exists\n                if not st.session_state.current_chat_id:\n                    chat = database.create_chat(st.session_state.user_id, question[:100])\n                    if chat:\n                        st.session_state.current_chat_id = chat.id\n                \n                # Save to database\n                if st.session_state.current_chat_id:\n                    database.add_message(st.session_state.current_chat_id, \"user\", question)\n                    database.add_message(\n                        st.session_state.current_chat_id,\n                        \"assistant\",\n                        summary if not df.empty else \"Query executed successfully\",\n                        sql_query=sql,\n                        rows_returned=len(df),\n                        success=True\n                    )\n                \n                st.session_state.chat_history.append({\n                    'timestamp': datetime.datetime.now().strftime(\"%Y-%m-%d %H:%M:%S\"),\n                    'question': question,\n                    'answer': summary if not df.empty else \"Query executed successfully\",\n                    'rows': len(df),\n                    'success': True,\n                    'result_preview': df.head(3).to_dict('records') if not df.empty else []\n                })\n    \n    with tab2:\n        st.subheader(\"üí≠ Chat History\")\n        \n        if not st.session_state.chat_history:\n            st.info(\"No conversations yet. Ask a question to start chatting!\")\n        else:\n            for idx, chat in enumerate(reversed(st.session_state.chat_history)):\n                with st.container():\n                    st.markdown(f\"**üïê {chat['timestamp']}**\")\n                    \n                    # User question\n                    st.markdown(f\"**üë§ You:** {chat['question']}\")\n                    \n                    # System answer\n                    if chat['success']:\n                        st.markdown(f\"**ü§ñ AskDB:** {chat['answer']}\")\n                        st.caption(f\"‚úÖ Found {chat['rows']} rows\")\n                        \n                        # Show preview of results\n                        if chat.get('result_preview'):\n                            with st.expander(\"View result preview\"):\n                                preview_df = pd.DataFrame(chat['result_preview'])\n                                st.dataframe(preview_df, use_container_width=True)\n                    else:\n                        st.markdown(f\"**ü§ñ AskDB:** ‚ùå {chat['answer']}\")\n                    \n                    st.divider()\n    \n    with tab3:\n        st.subheader(\"Query History\")\n        \n        if not st.session_state.query_history:\n            st.info(\"No queries yet. Ask a question to get started!\")\n        else:\n            for idx, query in enumerate(reversed(st.session_state.query_history)):\n                with st.expander(f\"Query #{len(st.session_state.query_history) - idx}: {query['question']}\", expanded=False):\n                    st.markdown(f\"**Question:** {query['question']}\")\n                    \n                    if query['success']:\n                        st.success(f\"‚úÖ Success - {query['rows']} rows returned\")\n                    else:\n                        st.error(f\"‚ùå Failed - {query.get('error', 'Unknown error')}\")\n\nif __name__ == \"__main__\":\n    main()\n","size_bytes":61792},"pyproject.toml":{"content":"[project]\nname = \"repl-nix-workspace\"\nversion = \"0.1.0\"\ndescription = \"Add your description here\"\nrequires-python = \">=3.11\"\ndependencies = [\n    \"bcrypt>=5.0.0\",\n    \"openpyxl>=3.1.5\",\n    \"pandas>=2.3.3\",\n    \"plotly>=6.4.0\",\n    \"psycopg2-binary>=2.9.11\",\n    \"sentencepiece>=0.2.1\",\n    \"sqlalchemy>=2.0.44\",\n    \"streamlit>=1.51.0\",\n    \"torch>=2.9.0\",\n    \"transformers>=4.57.1\",\n    \"xlrd>=2.0.2\",\n]\n\n[[tool.uv.index]]\nexplicit = true\nname = \"pytorch-cpu\"\nurl = \"https://download.pytorch.org/whl/cpu\"\n\n[tool.uv.sources]\nAA-module = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nABlooper = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nAnalysisG = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nAutoRAG = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nBERTeam = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nBxTorch = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nByaldi = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nCALM-Pytorch = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nCOPEX-high-rate-compression-quality-metrics = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nCityLearn = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nCoCa-pytorch = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nCoLT5-attention = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nComfyUI-EasyNodes = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nCrawl4AI = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nDALL-E = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nDI-toolkit = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nDatasetRising = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nDeepCache = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nDeepMatter = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nDraugr = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nESRNN = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nEn-transformer = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nExpoSeq = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nFLAML = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nFSRS-Optimizer = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nGANDLF = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nGQLAlchemy = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nGhostScan = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nGraKeL = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nHEBO = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nIOPaint = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nISLP = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nInvokeAI = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nJAEN = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nKapoorLabs-Lightning = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nLightAutoML = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nLingerGRN = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nMMEdu = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nMRzeroCore = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nModeva = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nNeuralFoil = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nNiMARE = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nNinjaTools = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nOpenHosta = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nOpenNMT-py = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nPOT = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nPVNet = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nPaLM-rlhf-pytorch = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nPepperPepper = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nPiML = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nPoutyne = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nQNCP = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nRAGatouille = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nRareGO = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nRealtimeSTT = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nRelevanceAI-Workflows-Core = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nResemblyzer = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nScandEval = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nSimba-UW-tf-dev = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nSwissArmyTransformer = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nTPOT = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nTTS = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nTorchCRF = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nTotalSegmentator = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nUtilsRL = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nWhisperSpeech = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nXAISuite = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\na-unet = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\na5dev = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\naccelerate = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\naccelerated-scan = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\naccern-xyme = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nachatbot = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nacids-rave = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nactorch = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nacvl-utils = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nadabelief-pytorch = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nadam-atan2-pytorch = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nadan-pytorch = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nadapters = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nadmin-torch = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nadtoolbox = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nadversarial-robustness-toolbox = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\naeiou = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\naeon = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nafricanwhisper = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nag-llama-api = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nagentdojo = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nagilerl = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nai-edge-torch-nightly = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nai-parrot = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nai-python = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nai-transform = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nai2-olmo = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nai2-olmo-core = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nai2-tango = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\naicmder = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\naider-chat = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\naider-chat-x = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\naif360 = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\naihwkit = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\naimodelshare = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nairllm = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nairtestProject = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nairunner = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\naisak = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\naislib = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\naisquared = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\naistore = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\naithree = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nakasha-terminal = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nalibi = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nalibi-detect = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nalignn = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nall-clip = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nallennlp = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nallennlp-models = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nallennlp-pvt-nightly = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nallophant = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nallosaurus = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\naloy = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nalpaca-eval = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nalphafold2-pytorch = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nalphafold3-pytorch = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nalphamed-federated = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nalphawave = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\namazon-braket-pennylane-plugin = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\namazon-photos = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nanemoi-graphs = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nanemoi-models = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nanomalib = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\napache-beam = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\napache-tvm = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\naperturedb = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\naphrodite-engine = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\naqlm = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\narcAGI2024 = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\narchisound = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nargbind = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\narize = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\narm-pytorch-utilities = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\narray-api-compat = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\narus = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nassert-llm-tools = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nasteroid = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nasteroid-filterbanks = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nastra-llm = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nastrovision = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\natomate2 = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nattacut = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\naudio-diffusion-pytorch = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\naudio-encoders-pytorch = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\naudio-separator = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\naudiocraft = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\naudiolm-pytorch = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nauralis = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nauraloss = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nauto-gptq = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nautoawq = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nautoawq-kernels = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\n\"autogluon.multimodal\" = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\n\"autogluon.tabular\" = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\n\"autogluon.timeseries\" = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nautotrain-advanced = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\navdeepfake1m = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\naws-fortuna = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nax-platform = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nazureml-automl-dnn-vision = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nazureml-contrib-automl-dnn-forecasting = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nazureml-evaluate-mlflow = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nazureml-metrics = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nazureml-train-automl = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nb2bTools = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nbackpack-for-pytorch = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nbalrog-nle = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nbatch-face = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nbatchalign = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nbatchgeneratorsv2 = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nbatchtensor = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nbbrl = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nbenchpots = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nbent = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nbert-score = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nbertopic = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nbertviz = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nbestOf = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nbetty-ml = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nbig-sleep = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nbigdl-core-cpp = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nbigdl-core-npu = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nbigdl-llm = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nbigdl-nano = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\n\"bioimageio.core\" = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nbitfount = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nbitsandbytes = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nbittensor = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nbittensor-cli = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nblackboxopt = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nblanc = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nblindai = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nbm25-pt = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nboltz = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nbotorch = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nboxmot = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nbrainchain = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nbraindecode = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nbrevitas = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nbriton = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nbrowsergym-visualwebarena = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nbuzz-captions = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nbyotrack = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nbyzerllm = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nc4v-py = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\ncalflops = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\ncame-pytorch = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\ncamel-ai = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\ncamel-tools = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\ncannai = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\ncaptum = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\ncarte-ai = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\ncarvekit-colab = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\ncatalyst = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\ncausalml = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\ncausalnex = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\ncausy = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\ncbrkit = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\ncca-zoo = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\ncdp-backend = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\ncellacdc = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\ncellfinder = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\ncellpose = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\ncellxgene-census = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nchattts = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nchemprop = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nchgnet = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nchitra = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\ncircuitsvis = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\ncjm-yolox-pytorch = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nclarinpl-embeddings = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nclass-resolver = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nclassifier-free-guidance-pytorch = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nclassiq = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nclassy-core = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nclean-fid = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\ncleanvision = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nclip-anytorch = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nclip-benchmark = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nclip-by-openai = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nclip-interrogator = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nclip-retrieval = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\ncltk = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nclu = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nclusterops = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\ncnocr = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\ncnstd = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\ncoba = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\ncofi = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\ncolbert-ai = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\ncolpali-engine = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\ncompel = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\ncomposabl-ray = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\ncomposabl-ray-dev = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\ncomposabl-train = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\ncomposabl-train-dev = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\ncomposer = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\ncompressai = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\ncompressed-tensors = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\ncompressed-tensors-nightly = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nconcrete-python = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nconfit = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nconformer = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\ncontextualSpellCheck = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\ncontinual-inference = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\ncontrolnet-aux = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nconvokit = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\ncoola = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\ncoqui-tts = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\ncoqui-tts-trainer = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\ncraft-text-detector = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\ncreme = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\ncrocodile = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\ncrowd-kit = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\ncryoSPHERE = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\ncsle-common = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\ncsle-system-identification = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nctgan = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\ncurated-transformers = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\ncut-cross-entropy = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\ncvat-sdk = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\ncybertask = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nd3rlpy = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\ndalle-pytorch = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\ndalle2-pytorch = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\ndanila-lib = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\ndanling = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\ndarts = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\ndarwin-py = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\ndata-gradients = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\ndatachain = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\ndataclass-array = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\ndataeval = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\ndatarobot-drum = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\ndatarobotx = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\ndatumaro = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\ndctorch = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\ndeep-utils = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\ndeepchecks = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\ndeepchem = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\ndeepctr-torch = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\ndeepecho = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\ndeepepochs = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\ndeepforest = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\ndeeplabcut = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\ndeepmd-kit = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\ndeepmultilingualpunctuation = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\ndeepparse = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\ndeeprobust = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\ndeepsparse = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\ndeepsparse-nightly = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\ndeepspeed = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\ndenoising-diffusion-pytorch = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\ndescript-audio-codec = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\ndescript-audiotools = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\ndetecto = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\ndetoxify = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\ndgenerate = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\ndghs-imgutils = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\ndgl = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\ndialogy = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\ndice-ml = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\ndiffgram = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\ndiffq = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\ndiffusers = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\ndistilabel = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\ndistrifuser = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\ndnikit = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\ndocarray = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\ndoclayout-yolo = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\ndocling-ibm-models = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\ndocquery = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\ndomino-code-assist = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\ndreamsim = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\ndropblock = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\ndruida = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\ndvclive = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\ne2-tts-pytorch = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\ne2cnn = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\ne3nn = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\neasyocr = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nebtorch = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\necallisto-ng = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nedsnlp = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\neffdet = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\neinx = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\neir-dl = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\neis1600 = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\neland = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nema-pytorch = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nembedchain = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nenformer-pytorch = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nentmax = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nesm = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nespaloma-charge = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nespnet = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\netils = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\netna = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nevadb = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nevalscope = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nexllamav2 = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nextractable = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nface-alignment = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nfacenet-pytorch = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nfacexlib = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nfair-esm = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nfairseq = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nfairseq2 = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nfairseq2n = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nfaker-file = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nfarm = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nfast-bert = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nfast-pytorch-kmeans = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nfastai = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nfastcore = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nfastestimator-nightly = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nfasttreeshap = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nfedml = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nfelupe = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nfemr = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nfer = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nfft-conv-pytorch = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nfickling = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nfireworks-ai = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nflair = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nflashrag-dev = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nflax = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nflexgen = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nflgo = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nflopth = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nflowcept = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nflytekitplugins-kfpytorch = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nflytekitplugins-onnxpytorch = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nfmbench = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nfocal-frequency-loss = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nfoldedtensor = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nfractal-tasks-core = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nfreegenius = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nfreqtrade = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nfschat = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nfunasr = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nfunctorch = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nfunlbm = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nfunsor = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\ngalore-torch = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\ngarak = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\ngarf = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\ngateloop-transformer = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\ngeffnet = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\ngenutility = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\ngfpgan = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\ngigagan-pytorch = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\ngin-config = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nglasflow = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\ngliner = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\ngluonts = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\ngmft = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\ngoogle-cloud-aiplatform = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\ngpforecaster = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\ngpt3discord = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\ngpytorch = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\ngrad-cam = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\ngraph-weather = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\ngraphistry = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\ngravitorch = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\ngretel-synthetics = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\ngsplat = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nguardrails-ai = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nguidance = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\ngymnasium = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nhanlp = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nhappytransformer = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nhbutils = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nheavyball = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nhezar = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nhf-deepali = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nhf-doc-builder = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nhigher = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nhjxdl = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nhkkang-utils = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nhordelib = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nhpsv2 = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nhuggingface-hub = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nhummingbird-ml = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nhvae-backbone = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nhya = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nhypothesis-torch = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nibm-metrics-plugin = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nibm-watson-machine-learning = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nibm-watsonx-ai = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nicetk = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nicevision = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\niden = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nidvpackage = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\niglovikov-helper-functions = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nimagededup = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nimagen-pytorch = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nimaginAIry = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nimg2vec-pytorch = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nincendio = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\ninference = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\ninference-gpu = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\ninfinity-emb = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\ninfo-nce-pytorch = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\ninfoapps-mlops-sdk = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\ninstructlab = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\ninstructlab-dolomite = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\ninstructlab-eval = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\ninstructlab-sdg = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\ninstructlab-training = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\ninvisible-watermark = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\niobm = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nipex-llm = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\niree-turbine = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nirisml = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nirisml-tasks-azure-openai = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nirisml-tasks-torchvision = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nirisml-tasks-training = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nitem-matching = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nivadomed = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\njaqpotpy = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\njina = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\njudo = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\njunky = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nk-diffusion = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nk1lib = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nk2 = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nkappadata = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nkappamodules = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nkarbonn = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nkats = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nkbnf = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nkedro-datasets = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nkeybert = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nkeytotext = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nkhoj = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nkiui = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nkonfuzio-sdk = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nkornia = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nkornia-moons = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nkraken = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nkwarray = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nkwimage = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nlabml-nn = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nlagent = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nlaion-clap = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nlale = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nlama-cleaner = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nlancedb = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nlangcheck = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nlangkit = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nlangroid = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nlangtest = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nlayoutparser = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nldp = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nleafmap = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nleap-ie = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nleibniz = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nleptonai = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nletmedoit = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nlhotse = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nlib310 = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nlibpecos = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nlibrec-auto = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nlibretranslate = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nliger-kernel = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nliger-kernel-nightly = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nlightly = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nlightning = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nlightning-bolts = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nlightning-fabric = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nlightning-habana = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nlightning-lite = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nlightrag = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nlightweight-gan = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nlightwood = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nlinear-attention-transformer = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nlinear-operator = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nlinformer = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nlinformer-pytorch = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nliom-toolkit = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nlion-pytorch = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nlit-nlp = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nlitdata = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nlitelama = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nlitgpt = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nllama-index-embeddings-adapter = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nllama-index-embeddings-clip = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nllama-index-embeddings-instructor = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nllama-index-llms-huggingface = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nllama-index-postprocessor-colbert-rerank = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nllm-blender = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nllm-foundry = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nllm-guard = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nllm-rs = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nllm2vec = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nllmcompressor = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nllmlingua = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nllmvm-cli = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nlm-eval = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nlmdeploy = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nlmms-eval = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nlocal-attention = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nlovely-tensors = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nlpips = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nlycoris-lora = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nmace-torch = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nmagic-pdf = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nmagicsoup = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nmagvit2-pytorch = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nmaite = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nmanga-ocr = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nmanifest-ml = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nmanipulation = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nmarker-pdf = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nmatgl = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nmed-imagetools = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nmedaka = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nmedcat = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nmedmnist = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nmegablocks = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nmegatron-energon = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nmemos = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nmeshgpt-pytorch = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nmetatensor-torch = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nmflux = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nmia-vgg = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nmiditok = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nminari = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nminicons = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nml2rt = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nmlagents = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nmlbench-core = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nmlcroissant = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nmlpfile = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nmlx = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nmlx-whisper = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nmmaction2 = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nmmengine = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nmmengine-lite = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nmmocr = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nmmpose = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nmmsegmentation = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nmodeci-mdf = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nmodel2vec = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nmodelscope = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nmodelspec = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nmonai = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nmonai-weekly = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nmonotonic-alignment-search = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nmonty = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nmosaicml = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nmosaicml-streaming = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nmoshi = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nmteb = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nmtmtrain = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nmulti-quantization = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nmyhand = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nnGPT-pytorch = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nnaeural-core = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nnapari = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nnapatrackmater = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nnara-wpe = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nnatten = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nnbeats-pytorch = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nnebulae = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nnemo-toolkit = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nneptune = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nneptune-client = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nnerfacc = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nnerfstudio = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nnessai = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nnetcal = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nneural-rag = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nneuralforecast = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nneuralnets = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nneuralprophet = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nneuspell = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nnevergrad = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nnexfort = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nnimblephysics = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nnirtorch = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nnkululeko = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nnlp = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nnlptooltest = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nnnAudio = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nnnodely = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nnnsight = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nnnunetv2 = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nnoisereduce = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nnonebot-plugin-nailongremove = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nnowcasting-dataloader = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nnowcasting-forecast = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nnshtrainer = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nnuwa-pytorch = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nnvflare = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nnvidia-modelopt = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nocf-datapipes = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nocnn = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nogb = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nohmeow-blurr = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nolive-ai = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nomlt = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nommlx = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nonediff = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nonediffx = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nonnx2pytorch = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nonnx2torch = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nopacus = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nopen-clip-torch = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nopen-flamingo = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nopen-interpreter = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nopenbb-terminal-nightly = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nopenmim = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nopenparse = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nopenunmix = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nopenvino-dev = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nopenvino-tokenizers = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nopenvino-xai = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nopenwakeword = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nopt-einsum-fx = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\noptimum = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\noptimum-habana = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\noptimum-intel = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\noptimum-neuron = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\noptimum-quanto = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\noptree = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\noptuna = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\noptuna-dashboard = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\noptuna-integration = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\noracle-ads = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\norbit-ml = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\notx = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\noutetts = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\noutlines = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\noutlines-core = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\npaddlenlp = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\npai-easycv = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\npandasai = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\npanns-inference = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\npatchwork-cli = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\npeft = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\npegasuspy = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\npelutils = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\npenn = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nperforatedai-freemium = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nperformer-pytorch = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\npetastorm = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\npfio = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\npgmpy = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nphenolrs = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nphobos = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\npi-zero-pytorch = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\npinecone-text = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\npiq = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\npix2tex = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\npix2text = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\npnnx = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\npolicyengine-us-data = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\npolyfuzz = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\npomegranate = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\npositional-encodings = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nprefigure = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nproduct-key-memory = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nptflops = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nptwt = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\npulser-core = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\npunctuators = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\npy2ls = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\npyabsa = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\n\"pyannote.audio\" = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\npyawd = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\npyclarity = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\npycox = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\npyfemtet = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\npyg-nightly = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\npygrinder = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\npyhealth = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\npyhf = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\npyiqa = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\npykeen = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\npykeops = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\npylance = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\npylineaGT = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\npymanopt = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\npymde = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\npypots = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\npyqlib = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\npyqtorch = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\npyro-ppl = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\npysentimiento = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\npyserini = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\npysr = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\npythainlp = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\npython-doctr = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\npytorch-fid = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\npytorch-forecasting = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\npytorch-ignite = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\npytorch-kinematics = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\npytorch-lightning = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\npytorch-lightning-bolts = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\npytorch-metric-learning = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\npytorch-model-summary = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\npytorch-msssim = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\npytorch-pfn-extras = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\npytorch-pretrained-bert = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\npytorch-ranger = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\npytorch-seed = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\npytorch-tabnet = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\npytorch-tabular = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\npytorch-toolbelt = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\npytorch-transformers = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\npytorch-transformers-pvt-nightly = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\npytorch-triton-rocm = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\npytorch-warmup = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\npytorch-wavelets = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\npytorch_optimizer = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\npytorch_revgrad = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\npytorchcv = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\npytorchltr2 = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\npyvene = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\npyvespa = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nqianfan = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nqibo = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nqiskit-machine-learning = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nqtorch = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nquanto = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nquick-anomaly-detector = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nrastervision = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nrastervision-pytorch-backend = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nrastervision-pytorch-learner = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nray-lightning = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nrclip = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nrealesrgan = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nrecbole = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nrecommenders = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nredcat = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nreformer-pytorch = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nregex-sampler = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nreplay-rec = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nrerankers = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nresearch-framework = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nresemble-enhance = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nresnest = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nrf-clip = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nrf-groundingdino = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nrfconv = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nrich-logger = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nring-attention-pytorch = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nrltrade-test = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nrotary-embedding-torch = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nrsp-ml = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nrust-circuit = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\ns2fft = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\ns3prl = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\ns3torchconnector = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nsaferx = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nsafetensors = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nsagemaker-huggingface-inference-toolkit = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nsagemaker-ssh-helper = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nsalesforce-lavis = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nsalesforce-merlion = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nsamv2 = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nscib = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nscib-metrics = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nscvi-tools = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nsdmetrics = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nsecretflow = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nsegment-anything-hq = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nsegment-anything-py = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nsegmentation-models-pytorch = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nself-rewarding-lm-pytorch = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nsemantic-kernel = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nsemantic-router = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nsenselab = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nsent2vec = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nsentence-transformers = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nsequence-model-train = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nserotiny = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nsevenn = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nsglang = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nshap = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nsilero-api-server = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nsilero-vad = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nsilicondiff-npu = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nsimclr = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nsimple-lama-inpainting = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nsinabs = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nsixdrepnet = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nskforecast = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nskorch = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nskrl = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nskt = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nsktime = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nsktmls = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nslangtorch = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nsmartnoise-synth = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nsmashed = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nsmplx = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nsmqtk-descriptors = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nsmqtk-detection = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nsnntorch = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nsnorkel = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nsnowflake-ml-python = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nso-vits-svc-fork = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nsonusai = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nsony-custom-layers = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nsotopia = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nspacr = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nspacy-curated-transformers = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nspacy-experimental = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nspacy-huggingface-pipelines = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nspacy-llm = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nspacy-transformers = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nspan-marker = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nspandrel = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nspandrel-extra-arches = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nsparrow-python = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nspatialdata = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nspeechbrain = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nspeechtokenizer = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nspikeinterface = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nspikingjelly = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nspotiflow = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nspotpython = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nspotriver = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nsquirrel-core = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nstable-baselines3 = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nstable-diffusion-sdkit = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nstable-ts = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nstanford-stk = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nstanfordnlp = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nstanza = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nstartorch = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nstreamtasks = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nstruct-eqtable = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nstylegan2-pytorch = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nsupar = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nsuper-gradients = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nsuper-image = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nsuperlinked = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nsupervisely = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nsurya-ocr = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nsvdiff-pytorch = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nswarm-models = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nswarmauri = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nswarms-memory = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nswebench = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nsyft = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nsympytorch = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nsyne-tune = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nsynthcity = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nt5 = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\ntab-transformer-pytorch = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\ntabpfn = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\ntaming-transformers = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\ntaming-transformers-rom1504 = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\ntaskwiz = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\ntbparse = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\ntecton = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\ntensor-parallel = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\ntensorcircuit-nightly = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\ntensordict = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\ntensordict-nightly = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\ntensorizer = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\ntensorrt-llm = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\ntexify = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\ntext2text = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\ntextattack = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\ntfkit = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nthepipe-api = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nthinc = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nthingsvision = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nthirdai = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nthop = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\ntianshou = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\ntidy3d = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\ntimesfm = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\ntimm = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\ntipo-kgen = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\ntmnt = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\ntoad = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\ntomesd = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\ntop2vec = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\ntorch = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\ntorch-audiomentations = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\ntorch-dct = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\ntorch-delaunay = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\ntorch-directml = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\ntorch-ema = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\ntorch-encoding = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\ntorch-fidelity = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\ntorch-geometric = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\ntorch-geopooling = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\ntorch-harmonics = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\ntorch-kmeans = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\ntorch-lr-finder = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\ntorch-max-mem = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\ntorch-npu = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\ntorch-optimi = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\ntorch-optimizer = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\ntorch-ort = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\ntorch-pitch-shift = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\ntorch-ppr = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\ntorch-pruning = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\ntorch-snippets = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\ntorch-stoi = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\ntorch-struct = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\ntorch-tensorrt = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\ntorchani = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\ntorchattacks = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\ntorchaudio = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\ntorchbiggraph = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\ntorchcam = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\ntorchcde = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\ntorchcfm = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\ntorchcrepe = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\ntorchdata = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\ntorchdatasets-nightly = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\ntorchdiffeq = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\ntorchdyn = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\ntorchestra = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\ntorcheval = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\ntorcheval-nightly = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\ntorchextractor = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\ntorchfcpe = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\ntorchfun = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\ntorchfunc-nightly = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\ntorchgeo = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\ntorchgeometry = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\ntorchio = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\ntorchjpeg = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\ntorchlayers-nightly = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\ntorchmeta = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\ntorchmetrics = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\ntorchmocks = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\ntorchpack = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\ntorchpippy = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\ntorchpq = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\ntorchprofile = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\ntorchquantlib = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\ntorchrec = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\ntorchrec-nightly = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\ntorchrec-nightly-cpu = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\ntorchrl = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\ntorchrl-nightly = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\ntorchscale = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\ntorchsde = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\ntorchseg = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\ntorchserve = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\ntorchserve-nightly = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\ntorchsnapshot-nightly = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\ntorchsr = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\ntorchstain = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\ntorchsummaryX = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\ntorchtext = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\ntorchtnt = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\ntorchtnt-nightly = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\ntorchtyping = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\ntorchutil = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\ntorchvinecopulib = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\ntorchvision = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\ntorchviz = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\ntorchx = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\ntorchx-nightly = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\ntorchxrayvision = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\ntotalspineseg = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\ntracebloc-package-dev = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\ntrainer = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\ntransformer-engine = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\ntransformer-lens = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\ntransformer-smaller-training-vocab = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\ntransfusion-pytorch = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\ntransparent-background = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\ntreescope = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\ntrolo = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\ntsai = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\ntslearn = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nttspod = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\ntxtai = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\ntyro = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nu8darts = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nuhg = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nuitestrunner-syberos = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nultimate-rvc = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nultralytics = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nultralytics-thop = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nunav = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nunbabel-comet = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nunderthesea = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nunfoldNd = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nunimernet = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nunitorch = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nunitxt = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nunsloth = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nunsloth-zoo = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nunstructured = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nunstructured-inference = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nutilsd = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nv-diffusion-pytorch = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nvIQA = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nvectice = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nvector-quantize-pytorch = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nvectorhub-nightly = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nversatile-audio-upscaler = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nvertexai = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nvesin = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nvgg-pytorch = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nvideo-representations-extractor = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nviser = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nvision-datasets = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nvisionmetrics = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nvisu3d = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nvit-pytorch = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nviturka-nn = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nvllm = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nvllm-flash-attn = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nvocos = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nvollseg = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nvtorch = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nwavmark = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nwdoc = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nwhisper-live = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nwhisper-timestamped = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nwhisperx = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nwilds = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nwordllama = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nworker-automate-hub = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nwxbtool = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nx-clip = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nx-transformers = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nxaitk_saliency = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nxformers = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nxgrammar = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nxinference = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nxtts-api-server = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nyolo-poser = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nyolov5 = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nyolov7-package = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nyta-general-utils = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nzensvi = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nzetascale = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\nzuko = [{ index = \"pytorch-cpu\", marker = \"platform_system == 'Linux'\" }]\n","size_bytes":90449},"replit.md":{"content":"# Overview\n\nAskDB is an AI-powered natural language to SQL query system that converts user questions into SQL queries using Hugging Face Transformers (specifically T5 models). The application provides an interactive web interface built with Streamlit, allowing users to upload databases (CSV or SQLite), ask questions in plain English, and receive execution results, visualizations, and natural language summaries.\n\n**Key Design Principle**: The generated SQL queries are NEVER shown to users. Only results are displayed, making the system perfect for non-technical users who want insights from their data without needing to know SQL.\n\nThe system focuses on safe, read-only database operations and provides an intuitive interface for non-technical users to explore data through natural language.\n\n# User Preferences\n\nPreferred communication style: Simple, everyday language.\n\n# System Architecture\n\n## Application Framework\n- **Frontend/UI Layer**: Streamlit-based web application (`app.py`) running on port 5000\n- **Rationale**: Streamlit provides rapid development of data-focused applications with minimal boilerplate, ideal for prototyping and interactive data exploration tools\n- **Trade-offs**: Limited customization compared to full frontend frameworks, but significantly faster development time for data science applications\n\n## AI/ML Components\n- **Model**: Hugging Face Transformers with T5 architecture for natural language to SQL conversion\n  - **Primary Model**: `mrm8488/t5-base-finetuned-wikiSQL` - T5-base model fine-tuned on WikiSQL dataset\n  - **Previous Model**: Upgraded from `cssupport/t5-small-awesome-text-to-sql` for improved accuracy\n- **Rationale**: T5 (Text-to-Text Transfer Learning) models are pre-trained and proven effective for sequence-to-sequence tasks like translation from natural language to structured queries\n- **Implementation Details**:\n  - Two-tier SQL generation pipeline:\n    1. **Template-based generation**: Fast, reliable SQL for common query patterns (SHOW ALL, COUNT, AVERAGE, GROUP BY, FILTER)\n    2. **AI model fallback**: Handles complex queries using WikiSQL-trained T5 model\n  - Model caching implemented for performance optimization\n  - Structured prompts with schema context for better AI generation\n  - SQL output cleaning and validation\n  - Inference pipeline uses PyTorch backend\n  - SentencePiece tokenizer for text preprocessing\n\n## Data Layer\n- **Database Engine**: SQLite for in-memory/file-based data storage\n- **Data Ingestion**: Supports two input formats:\n  1. Direct SQLite database uploads (.db, .sqlite, .sqlite3)\n  2. CSV files with automatic conversion to SQLite\n- **Rationale**: SQLite provides zero-configuration, serverless operation suitable for single-user applications and prototyping\n- **Schema Extraction**: Automatic introspection of database structure to provide context for query generation\n\n## Security Architecture\n- **Query Privacy**: Generated SQL queries are NEVER displayed to users\n  - Results, visualizations, and summaries shown instead\n  - Error messages sanitized to remove SQL content using `sanitize_error_message()`\n  - Query history shows questions and status, NOT the generated SQL\n- **Query Validation**: Read-only query enforcement (SELECT, WITH/CTE statements only)\n- **Rationale**: Prevents data modification, deletion, or schema changes to protect data integrity\n- **Implementation**: Query filtering before execution to block INSERT, UPDATE, DELETE, DROP, ALTER operations\n- **Safe User Experience**: Non-technical users get insights without SQL knowledge\n\n## Visualization Layer\n- **Library**: Plotly for interactive charts\n- **Rationale**: Plotly provides rich, interactive visualizations with minimal configuration, suitable for dynamic data exploration\n- **Trigger**: Automatic chart generation when query results contain numeric data\n\n## State Management\n- **Query History**: Session-based tracking of questions and generated SQL queries\n- **Implementation**: Streamlit's session state mechanism for maintaining application state across reruns\n\n## Deployment Architecture\n- **Runtime**: Python 3.11+\n- **Execution Environment**: Replit-based deployment with automatic startup\n- **Port Configuration**: Configured for port 5000 with Streamlit server\n\n# External Dependencies\n\n## AI/ML Services\n- **Hugging Face Transformers**: Pre-trained T5 models for NL-to-SQL conversion\n  - Current model: `mrm8488/t5-base-finetuned-wikiSQL`\n  - Requires Hugging Face token for model access (stored in `HUGGING_FACE_TOKEN` environment variable)\n  - Models cached locally after first download for faster inference\n\n## Core Python Libraries\n- **streamlit**: Web application framework and UI components\n- **transformers**: Hugging Face library for accessing pre-trained models\n- **torch**: PyTorch deep learning framework (backend for model inference)\n- **pandas**: Data manipulation and analysis\n- **plotly**: Interactive visualization library\n- **sentencepiece**: Tokenization library for transformer models\n\n## Database\n- **SQLite**: Built-in Python library, no external service required\n- File-based or in-memory database operations\n\n## Development Infrastructure\n- **Replit**: Hosting and execution environment\n- **GitHub**: Version control (repository initialization mentioned in project setup notes)\n\n## Recent Changes (November 2025)\n\n### Model Upgrade\n- Upgraded from `cssupport/t5-small-awesome-text-to-sql` to `mrm8488/t5-base-finetuned-wikiSQL`\n- Added Hugging Face authentication token support\n- Improved model prompting with structured schema context\n\n### AI-First Dynamic SQL Generation (November 11, 2025)\n- **Primary Strategy**: Enhanced AI model with few-shot prompting\n  - T5 model (WikiSQL fine-tuned) as main query generator\n  - Templates retained as fast-path optimization only\n  - Handles ANY query type dynamically like an \"SQL master\"\n  - **Guaranteed AI fallback** for unmatched queries\n  \n- **Value-Aware Template Matching**:\n  - Extracts up to 50 distinct values per column from database\n  - Builds value‚Üícolumn mapping for intelligent matching\n  - **Exact matching**: \"Science\" ‚Üí `WHERE \"subject\" = 'Science'`\n  - **Partial matching**: \"Maths\" ‚Üí `WHERE \"subject\" LIKE '%Mathematics%'`\n  - Handles user queries with VALUES instead of COLUMN NAMES\n  - Falls back to AI when value not in samples\n  \n- **Enhanced Schema Extraction**:\n  - Extracts column types and up to 50 sample values per column\n  - Provides rich context to both templates and AI model\n  - Helps AI understand data patterns and generate accurate SQL\n  \n- **Few-Shot Prompting**:\n  - Structured prompts with examples\n  - Table and column details with types and sample values\n  - Better generation parameters (temperature, top_p, repetition penalty)\n  \n- **SQL Repair & Validation**:\n  - Intelligent post-processing of AI output\n  - Regex-based column name quoting (skips already-quoted)\n  - Artifact removal and table reference fixing\n  - Ensures all identifiers properly quoted\n  \n- **Smart Template Fast-Path**:\n  - SHOW ALL (only genuine requests), COUNT, AVERAGE, GROUP BY\n  - Value-aware FILTER (exact + partial matching)\n  - Returns None when unsure ‚Üí falls back to AI\n  - Never blocks AI fallback incorrectly\n\n### Enhanced for Diverse Databases (November 11, 2025)\n- **Expanded aggregation keywords** to support diverse business databases:\n  - Added: price, cost, total, quantity, revenue, sales, profit, discount, tax, fee, charge, payment, balance, rate\n  - Supports orders, customers, products, and any business domain databases\n- **Upload History Tracking**:\n  - Tracks all uploaded files with metadata (filename, type, rows, columns, timestamp)\n  - Displays last 5 uploads in sidebar\n  - Complete metadata for CSV, Excel, and SQLite files\n- **Full Chat History**:\n  - Three-tab interface: Ask Question, Chat History, Query History\n  - Chat history shows complete conversation flow with timestamps\n  - Displays questions, answers, row counts, and result previews\n  - Preserves all interactions in session\n\n### SQL Identifier Quoting (November 11, 2025)\n- **Comprehensive quoting system** for table and column names:\n  - Shared `quote_identifier()` function ensures consistent quoting\n  - Handles tables/columns with spaces (e.g., \"Order Details\")\n  - Escapes reserved SQL keywords\n  - Properly escapes embedded quotes by doubling\n- **Applied across all SQL generation**:\n  - Template-based queries quote all identifiers\n  - AI fallback quotes identifiers in prompts and post-processing\n  - Schema extraction uses quoted table names\n  - Upload metadata collection uses quoted table names\n- **Error handling**: Try/except per table prevents cascading failures\n\n### SQL Privacy Enhancement\n- Completely removed \"Generated SQL Query\" display section\n- Added `sanitize_error_message()` to strip SQL from all error messages\n- Query history shows questions and status only, never SQL code\n- Maintains server-side SQL logging for debugging while hiding from UI\n\n### AI Model SQL Generation Fixes (November 11, 2025)\n- **Regex-based table placeholder replacement**: Uses word-boundary regex `\\bFROM\\s+table\\b` to catch AI-generated \"table\" placeholder regardless of trailing characters\n- **Schema-driven prompting**: Dynamically builds few-shot examples using ACTUAL column names from database instead of generic placeholders\n- **Explicit anti-hallucination instruction**: Prompt includes \"Never use the word 'table' as a placeholder\" to prevent AI from generating invalid SQL\n- **Column whitelist validation**: Post-generation check removes hallucinated columns, falls back to SELECT * while preserving WHERE clauses\n- **Resolved critical bugs**: Fixed \"syntax error near 'table'\" issues that blocked complex queries\n\n### Multi-Table Upload Support (November 11, 2025)\n- **Multiple file upload**: Accept multiple CSV, Excel, and SQLite files simultaneously\n- **Unified database**: Merges all uploaded files into single SQLite database with separate tables\n- **SQLite file handling**: Attaches source databases and copies tables using proper quoting\n- **Smart table naming**: Cleans filenames to create valid table names (replaces spaces, dashes, dots with underscores)\n- **Comprehensive feedback**: Shows success message listing all created tables\n- **Foreign key detection**: Automatic discovery of relationships using PRAGMA foreign_key_list + heuristic matching\n- **Heuristic matching**: Detects implicit relationships (e.g., \"customer_id\" ‚Üí \"customers\" table)\n- **Table name detection**: Identifies which table is mentioned in question\n- **Multi-table schema in prompts**: AI receives information about all available tables and their relationships\n- **Limitation**: Full cross-table JOIN queries currently limited to single-table context in SQL repair pipeline\n\n### Testing & Validation (November 12, 2025)\n- **Comprehensive 50+ question test suite** completed with multi-table upload\n- Verified SQL privacy across all user interactions\n- Confirmed template and AI-based query generation working correctly  \n- Fixed all \"syntax error near table/Order\" issues - AI now generates valid SQL\n- Tested multi-table upload functionality with 4 related tables\n- Verified all aggregation types (SUM, AVG, COUNT, MAX, MIN) working correctly\n- Architect-approved implementation meeting all requirements\n\n### Bug Fixes from Comprehensive Testing (November 12, 2025)\n1. **Table Name Syntax Errors**: Fixed \"syntax error near 'Order'\" by adding table name variation handling (singular/plural, case variations) with proper quoting\n2. **Table Detection**: Enhanced to remove prefixes (\"sample_\") and match singular/plural forms (\"order\" ‚Üí \"sample_orders\")\n3. **SUM/Revenue Queries**: Added dedicated SUM template for \"total\", \"revenue\", \"sum\" keywords with automatic numeric column detection\n4. **\"How Many\" Queries**: Extended COUNT template to handle \"how many\", \"number of\", \"total number\" phrasings\n5. **AI Prompt Quality**: Added SUM few-shot example and explicit syntax instructions to prevent malformed SQL\n6. **SQL Repair Robustness**: Improved column quoting to be more conservative and avoid false matches\n\n## User Authentication & Multi-User Support (November 12, 2025)\n- **PostgreSQL Database**: Created for persistent user data and chat storage\n- **User Management**: Username/password authentication with bcrypt password hashing\n- **Database Schema**:\n  - `users` table: id, username, email, password_hash, display_name, created_at\n  - `chats` table: id, user_id (FK), title, created_at, updated_at\n  - `messages` table: id, chat_id (FK), role, content, sql_query, rows_returned, success, created_at\n- **Signup/Signin UI**: Tab-based interface for new user registration and existing user login\n- **Session Management**: Streamlit session state tracks authenticated user\n- **Per-User Chat History**: Each user sees only their own conversations\n- **Chat Management**:\n  - Create new chats (‚ûï New Chat button)\n  - Continue previous chats (click chat from sidebar list)\n  - Auto-saves all questions and answers to database\n  - Displays last 10 chats in sidebar\n- **Logout Functionality**: Secure logout that clears session\n- **SQL Privacy Maintained**: Generated SQL stored server-side but never shown to users\n\n## Future Architectural Considerations\n- **Multi-Table JOIN Enhancement**: Planned improvements to SQL generation for cross-table queries\n- **FK-Aware Query Generation**: Leverage detected foreign key relationships for automatic JOIN construction\n- **Advanced Chat Features**: Chat deletion, renaming, search across chat history\n- **Model Training**: Spider dataset integration for fine-tuning SQL generation","size_bytes":13621},"README.md":{"content":"# üóÑÔ∏è AskDB - Natural Language to SQL Query System\n\nAn AI-powered application that converts natural language questions into SQL queries using Hugging Face Transformers (T5 models). Built with Streamlit for an intuitive user interface.\n\n## ‚ú® Features\n\n- **ü§ñ AI-Powered SQL Generation**: Convert natural language questions to SQL using pre-trained T5 models\n- **üéØ User-Friendly Interface**: See only results, not complex SQL code - perfect for non-technical users\n- **üìÅ Flexible Database Support**: Upload CSV files or SQLite databases\n- **üîç Automatic Schema Extraction**: Intelligently extracts and displays database structure\n- **üîí Safe Query Execution**: Only read-only queries (SELECT, WITH/CTE) allowed for data protection\n- **üìä Interactive Visualizations**: Automatic chart generation for numeric data using Plotly\n- **üí° Natural Language Summaries**: AI-generated plain English explanations of query results\n- **üìú Query History**: Track all your questions and results\n- **‚ö° Optimized Performance**: Model caching for faster inference\n\n## üöÄ Getting Started\n\n### Prerequisites\n\n- Python 3.11+\n- The following packages are already installed:\n  - streamlit\n  - transformers\n  - torch\n  - pandas\n  - plotly\n  - sentencepiece\n\n### Running the Application\n\nThe application is configured to run automatically. Simply access it through the Replit webview on port 5000.\n\nAlternatively, run manually:\n```bash\nstreamlit run app.py --server.port 5000\n```\n\n## üìñ How to Use\n\n1. **Upload Database**\n   - Click \"Browse files\" in the sidebar\n   - Upload a CSV file or SQLite database (.db, .sqlite, .sqlite3)\n   - CSV files are automatically converted to SQLite\n\n2. **View Schema**\n   - Examine your database structure in the sidebar\n   - See all tables and their columns\n\n3. **Ask Questions**\n   - Type your question in natural language\n   - Examples:\n     - \"Show all records\"\n     - \"What is the average score?\"\n     - \"List students who scored above 90\"\n     - \"Count records grouped by grade\"\n\n4. **Review Results**\n   - Query results displayed in an easy-to-read table\n   - Interactive visualizations (for numeric data)\n   - Natural language summary explaining what the data shows\n   - User-friendly error messages if something goes wrong\n\n5. **Check History**\n   - View all previous questions and their results in the \"Query History\" tab\n\n## üîß Technical Details\n\n### AI Models\n\n**NL-to-SQL Generation:**\n- Model: `cssupport/t5-small-awesome-text-to-sql`\n- A fine-tuned T5 model specifically trained for text-to-SQL tasks\n- Optimized for CPU inference\n- Note: For complex schemas, consider upgrading to larger models like `t5-base` or domain-specific fine-tuned variants\n\n**Result Summarization:**\n- Model: `t5-small`\n- Generates natural language summaries of query results\n- Converts tabular data into readable English sentences\n\n### Safety Features\n\n- **SQL Privacy**: Generated SQL queries are never shown to users - only results are displayed\n- **Query Validation**: Blocks all mutation operations (INSERT, UPDATE, DELETE, DROP, etc.)\n- **Read-Only Access**: Only SELECT and WITH (CTE) queries permitted\n- **User-Friendly Errors**: Error messages are sanitized to remove technical SQL content\n- **SQL Injection Protection**: Queries are validated before execution\n\n### Performance Optimizations\n\n- **Model Caching**: Models loaded once and cached using `@st.cache_resource`\n- **Efficient Schema Extraction**: Schema loaded only when database is uploaded\n- **Lazy Loading**: Models loaded only when needed\n\n## üìä Sample Data\n\nA sample CSV file (`sample_students.csv`) is included with student data for testing:\n- 20 student records\n- Columns: id, name, score, grade, subject\n\n### Example Questions to Try\n\n```\n1. Show me all students who scored above 90\n2. What is the average score by subject?\n3. List all students with grade A\n4. Count how many students are in each grade\n5. Show the top 5 students by score\n```\n\n## üèóÔ∏è Architecture\n\n```\napp.py\n‚îú‚îÄ‚îÄ Database Handling\n‚îÇ   ‚îú‚îÄ‚îÄ CSV upload & conversion\n‚îÇ   ‚îú‚îÄ‚îÄ SQLite database loading\n‚îÇ   ‚îî‚îÄ‚îÄ Schema extraction\n‚îÇ\n‚îú‚îÄ‚îÄ AI Models\n‚îÇ   ‚îú‚îÄ‚îÄ T5 NL-to-SQL generation\n‚îÇ   ‚îî‚îÄ‚îÄ T5 result summarization\n‚îÇ\n‚îú‚îÄ‚îÄ Query Processing\n‚îÇ   ‚îú‚îÄ‚îÄ Prompt construction\n‚îÇ   ‚îú‚îÄ‚îÄ SQL generation\n‚îÇ   ‚îú‚îÄ‚îÄ Safety validation\n‚îÇ   ‚îî‚îÄ‚îÄ Query execution\n‚îÇ\n‚îî‚îÄ‚îÄ UI Components\n    ‚îú‚îÄ‚îÄ Database upload sidebar\n    ‚îú‚îÄ‚îÄ Question input\n    ‚îú‚îÄ‚îÄ Results display\n    ‚îú‚îÄ‚îÄ Visualizations\n    ‚îî‚îÄ‚îÄ Query history\n```\n\n## üîÆ Future Enhancements\n\nBased on the original AskDB project roadmap:\n\n1. **Model Fine-Tuning**\n   - Fine-tune T5 on Spider dataset for improved accuracy\n   - Train on DART/ToTTo for better summarization\n\n2. **Advanced Features**\n   - Support for JOIN operations and complex queries\n   - Multi-step conversational query refinement\n   - Query optimization suggestions\n\n3. **Database Support**\n   - PostgreSQL connection support\n   - MySQL integration\n   - Real-time database connections\n\n4. **Deployment**\n   - Hugging Face Spaces deployment\n   - Custom domain support\n   - API endpoint creation\n\n## üìö Project Background\n\nThis project implements Steps 0-8 of the AskDB roadmap using pre-trained Hugging Face models instead of custom fine-tuning. This approach provides:\n\n- **Immediate Functionality**: Working prototype without GPU training time\n- **Cost Efficiency**: No training infrastructure required\n- **Flexibility**: Easy model swapping for experimentation\n- **Foundation for Fine-Tuning**: Can be upgraded with custom models later\n\n## ü§ù Contributing\n\nTo improve the application:\n\n1. Experiment with different T5 models:\n   - `t5-base` for better accuracy (larger model)\n   - `google/flan-t5-large` for improved instruction following\n   - Fine-tuned SQL-specific models from Hugging Face\n\n2. Enhance SQL validation:\n   - Add SQL parser for more robust validation\n   - Support for additional safe operations\n\n3. Improve UI/UX:\n   - Add example questions gallery\n   - Implement query suggestions\n   - Save/export functionality for results\n\n## üìÑ License\n\nThis project uses open-source models and libraries. Please check individual model licenses on Hugging Face.\n\n## üôè Acknowledgments\n\n- **Hugging Face** for Transformers library and model hosting\n- **T5 Model** by Google Research\n- **Spider Dataset** by Yale LILY Lab (for future fine-tuning)\n- **Streamlit** for the amazing web framework\n","size_bytes":6496},"database.py":{"content":"import os\nimport bcrypt\nfrom datetime import datetime\nfrom sqlalchemy import create_engine, Column, Integer, String, DateTime, ForeignKey, Text\nfrom sqlalchemy.ext.declarative import declarative_base\nfrom sqlalchemy.orm import sessionmaker, relationship\nfrom typing import Optional, List\n\nDATABASE_URL = os.getenv(\"DATABASE_URL\")\n\n# Defer engine creation to allow graceful error handling\nengine = None\nSessionLocal = None\nBase = declarative_base()\n\ndef init_db_connection():\n    \"\"\"Initialize database connection lazily\"\"\"\n    global engine, SessionLocal\n    if engine is not None:\n        return True\n    \n    if not DATABASE_URL:\n        print(\"ERROR: DATABASE_URL environment variable is not set\")\n        return False\n    \n    try:\n        engine = create_engine(DATABASE_URL, pool_pre_ping=True)\n        SessionLocal = sessionmaker(autocommit=False, autoflush=False, bind=engine)\n        return True\n    except Exception as e:\n        print(f\"ERROR: Failed to initialize database: {e}\")\n        return False\n\nclass User(Base):\n    __tablename__ = \"users\"\n    \n    id = Column(Integer, primary_key=True, index=True)\n    username = Column(String(100), unique=True, nullable=False, index=True)\n    email = Column(String(255), unique=True, nullable=False, index=True)\n    password_hash = Column(String(255), nullable=False)\n    display_name = Column(String(200))\n    created_at = Column(DateTime, default=datetime.utcnow)\n    \n    chats = relationship(\"Chat\", back_populates=\"user\", cascade=\"all, delete-orphan\")\n    \n    def set_password(self, password: str):\n        salt = bcrypt.gensalt()\n        self.password_hash = bcrypt.hashpw(password.encode('utf-8'), salt).decode('utf-8')\n    \n    def check_password(self, password: str) -> bool:\n        return bcrypt.checkpw(password.encode('utf-8'), self.password_hash.encode('utf-8'))\n\n\nclass Chat(Base):\n    __tablename__ = \"chats\"\n    \n    id = Column(Integer, primary_key=True, index=True)\n    user_id = Column(Integer, ForeignKey(\"users.id\"), nullable=False)\n    title = Column(String(500), default=\"New Conversation\")\n    created_at = Column(DateTime, default=datetime.utcnow)\n    updated_at = Column(DateTime, default=datetime.utcnow, onupdate=datetime.utcnow)\n    \n    user = relationship(\"User\", back_populates=\"chats\")\n    messages = relationship(\"Message\", back_populates=\"chat\", cascade=\"all, delete-orphan\", order_by=\"Message.created_at\")\n\n\nclass Message(Base):\n    __tablename__ = \"messages\"\n    \n    id = Column(Integer, primary_key=True, index=True)\n    chat_id = Column(Integer, ForeignKey(\"chats.id\"), nullable=False)\n    role = Column(String(20), nullable=False)  # 'user' or 'assistant'\n    content = Column(Text, nullable=False)\n    sql_query = Column(Text)  # Store generated SQL (server-side only, never shown to user)\n    rows_returned = Column(Integer, default=0)\n    success = Column(Integer, default=1)  # 1 for success, 0 for failure\n    created_at = Column(DateTime, default=datetime.utcnow)\n    \n    chat = relationship(\"Chat\", back_populates=\"messages\")\n\n\ndef init_db():\n    \"\"\"Initialize database tables\"\"\"\n    if not init_db_connection():\n        return False\n    try:\n        Base.metadata.create_all(bind=engine)\n        return True\n    except Exception as e:\n        print(f\"ERROR: Failed to create tables: {e}\")\n        return False\n\n\ndef get_db():\n    db = SessionLocal()\n    try:\n        yield db\n    finally:\n        db.close()\n\n\ndef create_user(username: str, email: str, password: str, display_name: Optional[str] = None) -> Optional[User]:\n    \"\"\"Create new user with error handling\"\"\"\n    if not init_db_connection():\n        print(\"ERROR: Cannot create user - database not connected\")\n        return None\n    \n    db = SessionLocal()\n    try:\n        existing_user = db.query(User).filter(\n            (User.username == username) | (User.email == email)\n        ).first()\n        \n        if existing_user:\n            print(f\"User already exists: {username}\")\n            return None\n        \n        user = User(\n            username=username,\n            email=email,\n            display_name=display_name or username\n        )\n        user.set_password(password)\n        \n        db.add(user)\n        db.commit()\n        db.refresh(user)\n        print(f\"Successfully created user: {username}\")\n        return user\n    except Exception as e:\n        db.rollback()\n        print(f\"ERROR creating user: {e}\")\n        return None\n    finally:\n        db.close()\n\n\ndef authenticate_user(username: str, password: str) -> Optional[User]:\n    \"\"\"Authenticate user with error handling\"\"\"\n    if not init_db_connection():\n        print(\"ERROR: Cannot authenticate - database not connected\")\n        return None\n    \n    db = SessionLocal()\n    try:\n        user = db.query(User).filter(User.username == username).first()\n        if user and user.check_password(password):\n            print(f\"Successfully authenticated user: {username}\")\n            return user\n        print(f\"Authentication failed for user: {username}\")\n        return None\n    except Exception as e:\n        print(f\"ERROR during authentication: {e}\")\n        return None\n    finally:\n        db.close()\n\n\ndef get_user_by_id(user_id: int) -> Optional[User]:\n    db = SessionLocal()\n    try:\n        return db.query(User).filter(User.id == user_id).first()\n    finally:\n        db.close()\n\n\ndef create_chat(user_id: int, title: str = \"New Conversation\") -> Optional[Chat]:\n    db = SessionLocal()\n    try:\n        chat = Chat(user_id=user_id, title=title)\n        db.add(chat)\n        db.commit()\n        db.refresh(chat)\n        return chat\n    except Exception as e:\n        db.rollback()\n        print(f\"Error creating chat: {e}\")\n        return None\n    finally:\n        db.close()\n\n\ndef get_user_chats(user_id: int, limit: int = 20) -> List[Chat]:\n    \"\"\"Get user chats with pagination limit\"\"\"\n    if not init_db_connection():\n        return []\n    db = SessionLocal()\n    try:\n        return db.query(Chat).filter(Chat.user_id == user_id).order_by(Chat.updated_at.desc()).limit(limit).all()\n    except Exception as e:\n        print(f\"ERROR: Failed to get user chats: {e}\")\n        return []\n    finally:\n        db.close()\n\n\ndef get_chat_messages(chat_id: int) -> List[Message]:\n    db = SessionLocal()\n    try:\n        return db.query(Message).filter(Message.chat_id == chat_id).order_by(Message.created_at).all()\n    finally:\n        db.close()\n\n\ndef add_message(chat_id: int, role: str, content: str, sql_query: Optional[str] = None, \n                rows_returned: int = 0, success: bool = True) -> Optional[Message]:\n    db = SessionLocal()\n    try:\n        message = Message(\n            chat_id=chat_id,\n            role=role,\n            content=content,\n            sql_query=sql_query,\n            rows_returned=rows_returned,\n            success=1 if success else 0\n        )\n        db.add(message)\n        \n        chat = db.query(Chat).filter(Chat.id == chat_id).first()\n        if chat:\n            chat.updated_at = datetime.utcnow()\n            if role == 'user' and not chat.title.startswith(\"New\"):\n                chat.title = content[:100]  # Use first message as title\n        \n        db.commit()\n        db.refresh(message)\n        return message\n    except Exception as e:\n        db.rollback()\n        print(f\"Error adding message: {e}\")\n        return None\n    finally:\n        db.close()\n\n\ndef delete_chat(chat_id: int, user_id: int) -> bool:\n    db = SessionLocal()\n    try:\n        chat = db.query(Chat).filter(Chat.id == chat_id, Chat.user_id == user_id).first()\n        if chat:\n            db.delete(chat)\n            db.commit()\n            return True\n        return False\n    except Exception as e:\n        db.rollback()\n        print(f\"Error deleting chat: {e}\")\n        return False\n    finally:\n        db.close()\n","size_bytes":7816}},"version":2}